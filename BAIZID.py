#Admin :ùêÅùêÄùêàùêôùêàùêÉ ùêåùêéùêíùêìùêéùêÖùêÄ
#Github : BAIZID-171
#WhatsApp : +8801867705596
#version : 2.0.4

import base64
exec(base64.b64decode('Iy0tLS0tLS0tLS0tLS0tLS0tWyBJTVBPUlQtTU9EVUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0tCmltcG9ydCByZXF1ZXN0cywgYnM0LCBqc29uLCBvcywgc3lzLCByYW5kb20sIGRhdGV0aW1lLCB0aW1lLCByZSwgdXJsbGliMywgcmljaCwgYmFzZTY0LCB1dWlkCmltcG9ydCB1cmxsaWIzLHJpY2gsYmFzZTY0CmZyb20gcmljaC50YWJsZSBpbXBvcnQgVGFibGUgYXMgbWUKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUgYXMgc29sCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IEdyb3VwIGFzIGdwCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgY2V0YWsKZnJvbSByaWNoLm1hcmtkb3duIGltcG9ydCBNYXJrZG93biBhcyBtYXJrCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbApmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIHJwcmludApmcm9tIHJpY2ggaW1wb3J0IHByZXR0eQpmcm9tIHJpY2gudGV4dCBpbXBvcnQgVGV4dCBhcyB0ZWt6CnByZXR0eS5pbnN0YWxsKCkKQ09OPXNvbCgpCiMtLS0tLS0tLS0tLS0tLS0tLS1bIFVTRVItQUdFTlQgXS0tLS0tLS0tLS0tLS0tLS0tLS0jCnVnZW4yPVtdCnVnZW49W10KY29rYnJ1dD1bXQpzZXM9cmVxdWVzdHMuU2Vzc2lvbigpCnByaW5jcD1bXQp0cnk6Cglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dAoJb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKI0NobmdlIE5hbWUgCglwcmludCgnW1tceDFiWzE7OTJt4oCiXHgxYlsxOzk3bV0gW1x4MWJbMTs5N21CSi1BUklGXScpCnByb3g9b3BlbignLnByb3gudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKZm9yIHhkIGluIHJhbmdlKDEwMDAwKToKCWE9J01vemlsbGEvNS4wIChTeW1iaWFuLzM7IFNlcmllczYwLycKCWI9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJYz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCglkPSdOb2tpYScKCWU9cmFuZG9tLnJhbmRyYW5nZSgxMDAsIDk5OTkpCglmPScvMTEwLjAyMS4wMDI4OyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MzUuMSAoS0hUTUwsIGxpa2UgR2Vja28pIE5va2lhQnJvd3Nlci8nCglnPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWg9cmFuZG9tLnJhbmRyYW5nZSgxLCA0KQoJaT1yYW5kb20ucmFuZHJhbmdlKDEsIDQpCglqPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkKCWs9J01vYmlsZSBTYWZhcmkvNTM1LjEnCgl1YWt1PShmJ3thfXtifS57Y30ge2R9e2V9e2Z9e2d9LntofS57aX0ue2p9IHtrfScpCgl1Z2VuMi5hcHBlbmQodWFrdSkKCgoJYWE9J01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCcKCWI9cmFuZG9tLmNob2ljZShbJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInXSkKCWM9JyBlbi11czsgR1QtJwoJZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKCWU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpCglmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycKCWg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApCglpPScwJwoJaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkKCWs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApCglsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicKCXVha3UyPWYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScKCXVnZW4uYXBwZW5kKHVha3UyKQpmb3IgeCBpbiByYW5nZSgxMCk6CglhPSdNb3ppbGxhLzUuMCAoU0FNU1VORzsgU0FNU1VORy1HVC1TJwoJYj1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWM9cmFuZG9tLnJhbmRyYW5nZSgxMDAsIDk5OTkpCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZT1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCglnPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCglpPSc7IFU7IEJhZGEvMS4yOyBlbi11cykgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBEb2xmaW4vJwoJaj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCglrPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWw9J01vYmlsZSBXVkdBIFNNTS1NTVMvMS4yLjAgT1BOLUInCgl1YWs9Zid7YX17Yn0ve2N9e2R9e2V9e2Z9e2d9e2h9e2l9e2p9LntrfSB7bH0nCmRlZiB1YWt1KCk6Cgl0cnk6CgkJdWE9b3BlbignYmJuZXcudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQlmb3IgdWIgaW4gdWE6CgkJCXVnZW4uYXBwZW5kKHViKQoJZXhjZXB0OgoJCWE9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dpdGh1Yi5jb20vRUMtMTcwOS9hL2Jsb2IvbWFpbi9iYm5ldy50eHQnKS50ZXh0CgkJdWE9b3BlbignLmJibmV3LnR4dCcsJ3cnKQoJCWFhPXJlLmZpbmRhbGwoJ2xpbmUiPiguKj8pPCcsc3RyKGEpKQoJCWZvciB1biBpbiBhYToKCQkJdWEud3JpdGUodW4rJ1xuJykKCQl1YT1vcGVuKCcuYmJuZXcudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKIy0tLS0tLS0tLS0tLVsgSU5ESUNBVElPTiBdLS0tLS0tLS0tLS0tLS0tIwppZCxpZDIsbG9vcCxvayxjcCxha3VuLG9wcmVrLG1ldGhvZCxsaXNlbnNpa3UsdGFwbGlrYXNpLHRva2Vua3UsdWlkLGxpc2Vuc2lrdW5pPSBbXSxbXSwwLDAsMCxbXSxbXSxbXSxbXSxbXSxbXSxbXSxbXQpjb2ticnV0PVtdCnB3cGx1c3MscHdueWE9W10sW10KIy0tLS0tLS0tLS0tLVsgV0FSTkEtQ09MT1IgXS0tLS0tLS0tLS0tLS0tIwpQID0gJ1x4MWJbMTs5N20nCk0gPSAnXHgxYlsxOzkxbScKSCA9ICdceDFiWzE7OTJtJwpLID0gJ1x4MWJbMTs5M20nCkIgPSAnXHgxYlsxOzk0bScKVSA9ICdceDFiWzE7OTVtJyAKTyA9ICdceDFiWzE7OTZtJwpOID0gJ1x4MWJbMG0nICAgIApaID0gIlwwMzNbMTszMG0iCnNpciA9ICdcMDMzWzQxbVx4MWJbMTs5N20nCnggPSAnXDMzW20nICMgREVGQVVMVAptID0gJ1x4MWJbMTs5MW0nICNSRUQgKwprID0gJ1wwMzNbOTNtJyAjIEtVTklORyArCmggPSAnXHgxYlsxOzkybScgIyBISUpBVSArCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0KdSA9ICdcMDMzWzk1bScgIyBVTkdVCmtrID0gJ1wwMzNbMzNtJyAjIEtVTklORyAtCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArCmFzdSA9IHJhbmRvbS5jaG9pY2UoW20sayxoLHUsYl0pCiMtLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ09OVkVSVEVSLUJVTEFOIF0tLS0tLS0tLS0tLS0tLSMKZGljID0geycxJzonSmFudWFyeScsJzInOidGZWJydWFyeScsJzMnOidNYXJjaCcsJzQnOidBcHJpbCcsJzUnOidNYXknLCc2JzonSnVuZScsJzcnOidKdWx5JywnOCc6J0F1Z3VzdCcsJzknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZWNlbWJlcid9CmRpYzIgPSB7JzAxJzonSmFudWFyeScsJzAyJzonRmVicnVhcnknLCcwMyc6J01hcmNoJywnMDQnOidBcHJpbCcsJzA1JzonTWF5JywnMDYnOidKdW5lJywnMDcnOidKdWx5JywnMDgnOidBdWd1c3QnLCcwOSc6J1NlcHRlbWJlcicsJzEwJzonT2N0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0RldmVtYmVyJ30KdGdsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuZGF5CmJsbiA9IGRpY1soc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLm1vbnRoKSldCnRobiA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLnllYXIKb2tjID0gJ09LLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcKY3BjID0gJ0NQLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcKIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUFDSElORS1TVVBQT1JUIF0tLS0tLS0tLS0tLS0tLS0jCmRlZiBhbHZpbm9feHkodSk6CiAgICAgICAgZm9yIGUgaW4gdSArICJcbiI6c3lzLnN0ZG91dC53cml0ZShlKTtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwNSkKZGVmIGNsZWFyKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKZGVmIGJhY2soKToKCWxvZ2luKCkKIy0tLS0tLS0tLS0tLS0tLS0tLVsgTE9HTyBdLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBiYW5uZXIoKToKCWNsZWFyKCkKCXNvbCgpCgliYW49JycnIFwwMzNbMTs5NW3wnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkIMt8J2QjPCdkI7wnZCS8J2Qk/CdkIDwnZCF8J2QgFwwMzNbMTs5NW0KICAgCiAKClwwMzNbMTs5MW0gICAgX19fXyAgX19fICAgIF9fX19fX19fXyAgIF9fX19fX19fXDAzM1sxOzkxbSAKXDAzM1sxOzk0bSAgIC8gX18gKS8gICB8ICAvICBfL19fICAvICAvICBfLyBfXyBcXFwwMzNbMTs5NG0KXDAzM1sxOzkzbSAgLyBfXyAgLyAvfCB8ICAvIC8gICAvIC8gICAvIC8vIC8gLyAvIFwwMzNbMTs5M20KXDAzM1sxOzk2bSAvIC9fLyAvIF9fXyB8Xy8gLyAgIC8gL19fXy8gLy8gL18vIC8gXDAzM1sxOzk2bQpcMDMzWzE7OTVtL19fX19fL18vICB8Xy9fX18vICAvX19fXy9fX18vX19fX18vXDAzM1sxOzk1bSAgXDAzM1sxOzk0bfCdkK/wnZCe8J2Qq/CdkKzwnZCi8J2QqPCdkKc6IPCdn5Au8J2fji7wnZ+SXDAzM1sxOzk0bQoKXDAzM1sxOzk2bfCdkJbwnZCh8J2QmvCdkK3wnZCs8J2QgPCdkKnwnZCpIDogKzg4MDE4Njc3MDU1OTZcMDMzWzE7OTZtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycnCgljZXRhayhuZWwoYmFuLCBzdHlsZT0nZ3JlZW4nKSkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBCQUdJQU4tTUFTVUsgXS0tLS0tLS0tLS0tLS0tIwpkZWYgbG9naW4oKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCgkJdG9rZW5rdS5hcHBlbmQodG9rZW4pCgkJdHJ5OgoJCQlzeSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/ZmllbGRzPWlkLG5hbWUmYWNjZXNzX3Rva2VuPScrdG9rZW5rdVswXSwgY29va2llcz17J2Nvb2tpZSc6Y29rfSkKCQkJc3kyID0ganNvbi5sb2FkcyhzeS50ZXh0KVsnbmFtZSddCgkJCXN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10KCQkJbWVudShzeTIsc3kzKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJbG9naW5fbGFnaTMzNCgpCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlsaSA9ICcjIFBST0JMRU0gSU5URVJORVQgQ09OTkVDVElPTiwgQ0hFQ0sgQU5EIFRSWSBBR0FJTicKCQkJbG8gPSBtYXJrKGxpLCBzdHlsZT0ncmVkJykKCQkJc29sKCkucHJpbnQobG8sIHN0eWxlPSdwdXJwbGUnKQoJCQlleGl0KCkKCWV4Y2VwdCBJT0Vycm9yOgoJCWxvZ2luX2xhZ2kzMzQoKQpkZWYgbG9naW5fbGFnaTMzNCgpOgoJdHJ5OgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCWJhbm5lcigpCgkJY2V0YWsobmVsKCdcdCAgICAgICAgICAgICBcMDMzWzE7OTRtV0VMTENPTUVcMDMzWzE7OTRtIFwwMzNbMTs5M206XDAzM1sxOzkzbSBbZ3JlZW5dIPCdkIHwnZCA8J2QiPCdkJnwnZCI8J2QgyBQVUJMSUMgVE9PTFtwdXJwbGVdICcpKQoJCWFzdSA9IHJhbmRvbS5jaG9pY2UoW20sayxoLGIsdV0pCgkJY29va2llPWlucHV0KGYnICBbe2h94oCie3V9XSBJTlBVVCBDT09LSUVTIDp7YXN1fSAnKQoJCWRhdGEgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYnVzaW5lc3MuZmFjZWJvb2suY29tL2J1c2luZXNzX2xvY2F0aW9ucyIsIGhlYWRlcnMgPSB7InVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDk7IFhJQU9NSSBNaSBOb3RlIDEwIFBybyBCdWlsZC9OTUYyNkYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ni4wLjM4MDkuMTExIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEFsb2hhQnJvd3Nlci8yLjE1LjAiLCJyZWZlcmVyIjogImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8iLCJob3N0IjogImJ1c2luZXNzLmZhY2Vib29rLmNvbSIsIm9yaWdpbiI6ICJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbSIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiIDogIjEiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgiLCJjb250ZW50LXR5cGUiOiJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgifSwgY29va2llcyA9IHsiY29va2llIjpjb29raWV9KSAKCQlmaW5kX3Rva2VuID0gcmUuc2VhcmNoKCIoRUFBR1x3KykiLCBkYXRhLnRleHQpCgkJa2VuPW9wZW4oIi50b2tlbi50eHQiLCAidyIpLndyaXRlKGZpbmRfdG9rZW4uZ3JvdXAoMSkpCgkJY29rPW9wZW4oIi5jb2sudHh0IiwgInciKS53cml0ZShjb29raWUpCgkJcHJpbnQoZicgIHt1fVt7aH3igKJ7dX1de2h9IExPR0lOIERPTkUuLi4uLi4uLi5SVU4gQUdBSU4hISEhe2t9ICcpO3RpbWUuc2xlZXAoMSkKCQlleGl0KCkKCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQlvcy5zeXN0ZW0oInJtIC1mIC50b2tlbi50eHQiKQoJCW9zLnN5c3RlbSgicm0gLWYgLmNvay50eHQiKQoJCXByaW50KGYnICAlc1slc3glc10lcyBMT0dJTiBFUlJPUi4uLi5UUlkgQUdBSU4gISElcyclKHgsayx4LG0seCkpCgkJZXhpdCgpCiMtLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1NRU5VIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgbWVudShteV9uYW1lLG15X2lkKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCgnW8OXXSBDb29raWVzIEVycm9yICAnKQoJCXRpbWUuc2xlZXAoNSkKCQlsb2dpbl9sYWdpMzM0KCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJYmFubmVyKCkKCWlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2FwaS5pcGlmeS5vcmciKS50ZXh0CgljZXRhayhuZWwoJ1x0V0VMQ09NIFtncmVlbl0lc1tncmVlbl0gTE9HSU4gVVNFUiclKG15X25hbWUpKSkKCWFsdmlub194eShmJ3t1fUlEICA6ICcrc3RyKG15X2lkKSkKCWFsdmlub194eShmJ3tofUlQICA6IHtpcH0nKQoJY2V0YWsobmVsKCdcdFtib2xkIGN5YW5dICAgICAgICAgICDigKIgQ0hPT1NFIENMT05JTkcgTUVOVSDigKIgWy9ib2xkIGN5YW5dJykpCglwcmludCgnJykKCWNldGFrKG5lbCgnW2JvbGQgZ3JlZW5dIFwwMzNbMTs5NG1b4oiaXVwwMzNbMTs5NG1cMDMzWzE7OTVtMS5cMDMzWzE7OTVtIFwwMzNbMTs5M21DUkFDSyBQVUJMSUsgSURcMDMzWzE7OTNtXG4gXDAzM1sxOzk0bVviiJpdXDAzM1sxOzk0bVwwMzNbMTs5NW0yLlwwMzNbMTs5NW0gXDAzM1sxOzk2bUNIRUsgQkFJWklEU1wwMzNbMTs5Nm1cbiBcMDMzWzE7OTRtW+KIml1cMDMzWzE7OTRtXDAzM1sxOzk1bTAuXDAzM1sxOzk2bSBcMDMzWzE7OTFtRVhJVFwwMzNbMTs5MW0gW2JvbGQgZ3JlZW5dJykpIAoJX19fX19jb3dva19fcGlua19fX19fID0gaW5wdXQoJ1xuIENIT09TRSA6ICcpCglpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWycxJ106CgkJZHVtcF9tYXNzYWwoKQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWycyJ106CgkJQVJJRnQoKQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWyczJ106CgkJZHVtcF9tYXNzYWwoKQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWyc0J106CgkJY3JhY2tfZmlsZSgpCgllbGlmIF9fX19fY293b2tfX3BpbmtfX19fXyBpbiBbJzUnXToKCQlBUklGdCgpCgllbGlmIF9fX19fY293b2tfX3BpbmtfX19fXyBpbiBbJzAnXToKCQlvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0JykKCQlvcy5zeXN0ZW0oJ3JtIC1yZiAuY29va2llLnR4dCcpCgkJcHJpbnQoJz0+RE9ORSBMT0dVVCAnKQoJCWV4aXQoKQoJZWxzZToKCQlwcmludCgnPT5DSE9PU0UgUklHSFQgTU5FVSAnKQoJCWJhY2soKQpkZWYgZXJyb3IoKToKCXByaW50KGYne2t9PT5UUlkgQUdBSU4ge3V9JykKCXRpbWUuc2xlZXAoNCkKCWJhY2soKQojLS0tLS0tLS0tLS0tLS0tLS1bIEhBU0lMLUNSQUNLIF0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIEFSSUZ0KCk6CglwcmludCgnPT5PayBJRFogJykKCXByaW50KCc9PkNQIElEWiAnKQoJcHJpbnQoJz0+RVhJVAknKQoJa3ogPSBpbnB1dCgnXFwwMzNbMTs5Nm09PkNIT09TRSA6XDAzM1sxOzk2bSAnKQoJaWYga3ogaW4gWycxJywnMDEnXToKCQl0cnk6dmluID0gb3MubGlzdGRpcignQ1AnKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaSBUZW11a2FuICcpCgkJCXRpbWUuc2xlZXAoMykKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCXByaW50KCc9PkFuZGEgVGlkYWsgTWVtaWxpa2kgSGFzaWwgQ1AgJykKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQljaWggPSAwCgkJCWxvbCA9IHt9CgkJCWZvciBpc2kgaW4gdmluOgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ0NQLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJY2loKz0xCgkJCQlpZiBjaWg8MTA6CgkJCQkJbm9tID0gJzAnK3N0cihjaWgpCgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQoJCQkJZWxzZToKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3UpCgkJCWdlZWggPSBpbnB1dCgnXG5cMDMzWzE7OTZtPT5DSE9TRSA6XDAzM1sxOzk2bSAnKQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXByaW50KCc9PlBpbGloIFlhbmcgQmVuZXIgS29udG9sICcpCgkJCQlleGl0KCkKCQkJdHJ5OmxpbiA9IG9wZW4oJ0NQLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCQlleGNlcHQ6CgkJCQlwcmludCgnPT5GaWxlIFRpZGFrIERpIFRlbXVrYW4gJykKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoJCQlub2NwPTAKCQkJZm9yIGNwa3UgaW4gcmFuZ2UobGVuKGxpbikpOgoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpCgkJCQljcGt1aD1mJyMgSUQgOiB7Y3BrdW5pWzBdfSBQQVNTV09SRCA6IHtjcGt1bmlbMV19JwoJCQkJc29sKCkucHJpbnQobWFyayhjcGt1aCxzdHlsZT0ieWVsbG93IikpCgkJCQlub2NwICs9MQoJCQlpbnB1dCgnWyBLbGlrIEVudGVyIF0nKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycyJywnMDInXToKCQl0cnk6dmluID0gb3MubGlzdGRpcignT0snKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaSBUZW11a2FuICcpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCXByaW50KCc9PkFuZGEgVGlkYWsgTWVtcHVueWFpIEZpbGUgT0sgJykKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQljaWggPSAwCgkJCWxvbCA9IHt9CgkJCWZvciBpc2kgaW4gdmluOgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ09LLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJY2loKz0xCgkJCQlpZiBjaWg8MTAwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScrdSkKCQkJCWVsc2U6CgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQoJCQlnZWVoID0gaW5wdXQoJ1xuPT5DSE9TRSA6ICcpCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBUT0xPTCAnKQoJCQkJZXhpdCgpCgkJCXRyeTpsaW4gPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQkJZXhjZXB0OgoJCQkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaSBUZW11a2FuICcpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCQkJbm9jcD0wCgkJCWZvciBjcGt1IGluIHJhbmdlKGxlbihsaW4pKToKCQkJCWNwa3VuaT1saW5bbm9jcF0uc3BsaXQoJ3wnKQoJCQkJY3BrdWg9ZicjIElEIDoge2Nwa3VuaVswXX0gUEFTU1dPUkQgOiB7Y3BrdW5pWzFdfScKCQkJCXNvbCgpLnByaW50KG1hcmsoY3BrdWgsc3R5bGU9ImdyZWVuIikpCgkJCQlwcmludChmJ3toaH1DT09LSUUgOiB7dX17Y3BrdW5pWzJdfScpCgkJCQlub2NwICs9MQoJCQlpbnB1dCgnWyBLbGlrIEVudGVyIF0nKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycwJywnMDAnXToKCQliYWNrKCkKCWVsc2U6CgkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBUT0xPTCAnKQoJCWV4aXQoKQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ1JBQ0stUFVCTElLIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgZHVtcF9tYXNzYWwoKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCkKCXRyeToKCQlqdW0gPSBpbnQoaW5wdXQoJ1wwMzNbMTs5NW09PkVOVEVSIExJTVQgSURaIDpcMDMzWzE7OTVtICcpKQoJZXhjZXB0IFZhbHVlRXJyb3I6CgkJcHJpbnQoJ3trfT0+Tk9UIEpBTkkgJykKCQlleGl0KCkKCWlmIGp1bTwxIG9yIGp1bT4xMDAwMDAwMDA6CgkJcHJpbnQoJz0+VFJZIEFHQUlOICcpCgkJZXhpdCgpCglzZXM9cmVxdWVzdHMuU2Vzc2lvbigpCgl5eiA9IDAKCWZvciBtZXQgaW4gcmFuZ2UoanVtKToKCQl5eis9MQoJCWtsID0gaW5wdXQoJz0+aUQgTE5LICcrc3RyKHl6KSsnIDogJykKCQl1aWQuYXBwZW5kKGtsKQoJZm9yIHVzZXJyIGluIHVpZDoKCQl0cnk6CgkJCWNvbCA9IHNlcy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJyt1c2VycisnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQoJCQlmb3IgbWkgaW4gY29sWydmcmllbmRzJ11bJ2RhdGEnXToKCQkJCXRyeToKCQkJCQlpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pCgkJCQkJaWYgaXNvIGluIGlkOnBhc3MKCQkJCQllbHNlOmlkLmFwcGVuZChpc28pCgkJCQlleGNlcHQ6Y29udGludWUKCQlleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCQlwYXNzCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCgne2t9PT5UUlkgQUdBSU4gJykKCQkJZXhpdCgpCgl0cnk6CgkJcHJpbnQoJycpCgkJcHJpbnQoZid7a309PlRPVEFMIElE4piFe2J9JytzdHIobGVuKGlkKSkpCgkJc2V0dGluZygpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQoZid7dX0nKQoJCXByaW50KCc9PlNpbnlhbCBMbyBrZWsgS29udG9sICcpCgkJYmFjaygpCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCXByaW50KGYn4p6lPT57a30gSUYgSUQgSVMgUFVCTElDIFRIRU4gVFJZIEFHQUlOIFdJVEggTkVXIENPT0tJRSBPVEhSV1NFIENIRUsgWU9VUiBJRCBMTksge3V9JykKCQl0aW1lLnNsZWVwKDMpCgkJYmFjaygpCiMtLS0tLS0tLS0tLS0tLS0tLS0tWyBDUkFDSy1QRU5HSUtVVCBdLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGR1bXBfcGVuZ2lrdXQoKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCkKCXByaW50KCc9PlRZUEUgTUUgSUYgWU9VIFdOVCBEVU1QIFRPS0VOIElEIEZSSUVORFMgJykKCXBpbCA9IGlucHV0KCfinqXinqNcMDMzWzE7OTRtRU5URVIgSUQgTE5LIDpcMDMzWzE7OTRtICcpCgl0cnk6CgkJa29oMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytwaWwrJz9maWVsZHM9c3Vic2NyaWJlcnMubGltaXQoOTk5OTkpJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sY29va2llcz17J2Nvb2tpZSc6IGNva30pLmpzb24oKQoJCWZvciBwaSBpbiBrb2gyWydzdWJzY3JpYmVycyddWydkYXRhJ106CgkJCXRyeTppZC5hcHBlbmQocGlbJ2lkJ10rJ3wnK3BpWyduYW1lJ10pCgkJCWV4Y2VwdDpjb250aW51ZQoJCXByaW50KGYnPT5Ub3RhbCBJZHogOntofSAnK3N0cihsZW4oaWQpKSkKCQlzZXR0aW5nKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCgnPT5DSEVLIElOVFJOVCAnKQoJCWV4aXQoKQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlwcmludCgnPT5FUk9SUiAnKQoJCWV4aXQoKQojLS0tLS0tLS0tLS0tLS0tLS0tWyBDUkFDSy1HUlVQIF0tLS0tLS0tLS0tLS0tLS0tLSMKYmFsbW9uZCA9IGIrIlsiK2grIuKckyIrYisiXSIKCmRlZiBsYWgoKToKCXByaW50KCJcciIrYmFsbW9uZCttKyIgXHgxYlsxOzk1bVRvdGFsIElEIFlhbmcgVGVya3VtcHVsIDpceDFiWzE7OTdtICIrc3RyKGxlbihpZCkpKyIgICAgICAgICAgICAgICAgICAgICAiKQoJaW5wdXQoYmFsbW9uZCttICsiXHgxYlsxOzk3bSBLbGlrIFtceDFiWzE7OTZtIEVudGVyIF1ceDFiWzE7OTdtIEppa2EgSW5naW4gTGFuZ3N1bmcgQ3JhY2sgISEiKQoJcGFzcwoJc2V0dGluZygpCmRlZiBncnVwKCk6CglwcmludCgnJykKCWlkID0gaW5wdXQoIiIrYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IEVOVEVSIEdSVVAgTElOSyA6XHgxYlsxOzk0bSAiKQoJdWEgPSAnTW96aWxsYS81LjAgKFN5bWJpYW5PUy85LjM7IFNlcmllczYwLzMuMiBOb2tpYUU1Mi0xLzA1Mi4wMDM7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUyNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMy4wIEJyb3dzZXJORy83LjIuNi4yIDNncHAtZ2JhJwoJbWlza2lubHUgPSB7InVzZXItYWdlbnQiOiB1YX0KCXVybCA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vZ3JvdXBzLyIraWQKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJdHJ5OgoJCWduID0gcGFyc2VyKHNlcy5nZXQodXJsLCBoZWFkZXJzPW1pc2tpbmx1KS50ZXh0LCAnaHRtbC5wYXJzZXInKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50KGJhbG1vbmQrbSsiIENIRUsgSU5URVJOVC4uIikKCQl0aW1lLnNsZWVwKDAuNSkKCQlleGl0KCkKCWJlcnIgPSBnbi5maW5kKCJ0aXRsZSIpCgliZXJyMiA9IGJlcnIudGV4dC5yZXBsYWNlKCIgfCBGYWNlYm9vayIsIiIpLnJlcGxhY2UoIiBHcnVwIFB1YmxpayIsIiIpCglpZiBiZXJyMj09J01hc3VrIEZhY2Vib29rJzoKCQlwcmludChiYWxtb25kK20rIiBMaW1pdCwgU2lsYWhrYW4gTW9kZSBQZXNhd2F0IERhbiBDb2JhIExhZ2kuLiIpCgkJdGltZS5zbGVlcCgwLjUpCgkJY3JhY2tfZ3J1cCgpCgllbGlmIGJlcnIyPT0nS2VzYWxhaGFuJzoKCQlqYWxhbihiYWxtb25kK20rIiBHcnVwIFRpZGFrIERpdGVtdWthbi4uIikKCQl0aW1lLnNsZWVwKDAuNSkKCQljcmFja19ncnVwKCkKCWVsc2U6cGFzcwoJcHJpbnQoIiIrYmFsbW9uZCtwKyIgXHgxYlsxOzk0bT4+IE5hbWEgR3J1cCA6XHgxYlsxOzk3bSAiK2JlcnIyKQoJZ2dzID0gZ24uZmluZF9hbGwoJ3RhYmxlJykKCWFuZyA9IFtdCglmb3IgZmYgaW4gZ2dzOgoJCWFuZ2dvID0gZmYudGV4dAoJCWJybyA9IGFuZ2dvLnJlcGxhY2UoJ0FuZ2dvdGEnLCcnKQoJCXRyeToKCQkJbWV4ID0gaW50KGJybykKCQkJanVtbGFoID0gYW5nLmFwcGVuZChtZXgpCgkJZXhjZXB0OgoJCQlwYXNzCglpZiBsZW4oYW5nKT09MDoKCQlwcmludChiYWxtb25kK2grIiBBbmdnb3RhIDogLSIpCgllbHNlOgoJCXByaW50KGJhbG1vbmQraCsiIFx4MWJbMTs5NG0+PiBBbmdnb3RhIDpceDFiWzE7OTdtICIrc3RyKGFuZ1swXSkpCglncnVwMSh1cmwpCmRlZiBncnVwMSh1cmxzKToKCXVzZSA9IFtdCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXByaW50KCIiK2JhbG1vbmQrbSsiIFx4MWJbMTs5NG1KaWthIEJlcmhlbnRpLCBNb2RlIFBlc2F3YXQgNSBEZXRpayIpCglwcmludChiYWxtb25kK20rIiBceDFiWzE7OTRtU2VkYW5nIE1lbmd1bXB1bGthbiBJRCIpCglwcmludChiYWxtb25kK20rIiBceDFiWzE7OTRtVGVrYW4gQ1RSTCArIEMgVW50dWsgU3RvcCIpCgl3aGlsZSBUcnVlOgoJCXRyeToKCQkJdWEgPSAnTW96aWxsYS81LjAgKFN5bWJpYW5PUy85LjM7IFNlcmllczYwLzMuMiBOb2tpYUU1Mi0xLzA1Mi4wMDM7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUyNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMy4wIEJyb3dzZXJORy83LjIuNi4yIDNncHAtZ2JhJwoJCQltaXNraW5sdSA9IHsidXNlci1hZ2VudCI6IHVhfQoJCQl0cnk6CgkJCQl1cmwgPSB1c2VbMF0KCQkJZXhjZXB0OgoJCQkJdXJsID0gdXJscwoJCQlzZXQgPSBwYXJzZXIoc2VzLmdldCh1cmwsIGhlYWRlcnM9bWlza2lubHUpLnRleHQsICJodG1sLnBhcnNlciIpCgkJCWJmMiA9IHNldC5maW5kX2FsbCgnYScpCgkJCWZvciBnIGluIGJmMjoKCQkJCWNzcyA9IHN0cihnKS5zcGxpdCgnPicpCgkJCQlpZiAnTGloYXQgUG9zdGluZ2FuIExhaW5ueWE8L3NwYW4nIGluIGNzczoKCQkJCQliY2ogPSBzdHIoZykucmVwbGFjZSgnPGEgaHJlZj0iJywnJykucmVwbGFjZSgnYW1wOycsJycpCgkJCQkJYmNqMiA9IGJjai5zcGxpdCgnICcpWzBdLnJlcGxhY2UoJyI+PGltZycsJycpCgkJCXRlcyA9IHNldC5maW5kX2FsbCgndGFibGUnKQoJCQlmb3IgY2FyaSBpbiB0ZXM6CgkJCQlsaWF0bmloID0gY2FyaS50ZXh0CgkJCQlzcGwgPSBsaWF0bmloLnNwbGl0KCcgJykKCQkJCWlmICdtZW5nYWp1a2FuJyBpbiBzcGw6CgkJCQkJaWRzaWFwYSA9IHJlLmZpbmRhbGwoJ2NvbnRlbnRfb3duZXJfaWRfbmV3Llx3Kycsc3RyKGNhcmkpKQoJCQkJCWlkeW91ID0JaWRzaWFwYVswXS5yZXBsYWNlKCdjb250ZW50X293bmVyX2lkX25ldy4nLCcnKQoJCQkJCW5hbWF5b3UgPSBsaWF0bmloLnJlcGxhY2UoJyBtZW5nYWp1a2FuIHBlcnRhbnlhYW4gLicsJycpCgkJCQkJaWRrdSA9IGlkeW91Kyd8JytuYW1heW91CgkJCQkJaWYgaWRrdSBpbiBpZDoKCQkJCQkJY29udGludWUKCQkJCQllbHNlOgoJCQkJCQlpZC5hcHBlbmQoaWRrdSkKCQkJCQkJcHJpbnQoKCJcciIrYmFsbW9uZCtoKyIgeyAiK2srIlByb3NlcyBNZW5nYW1iaWwgSUQgIitzdHIobGVuKGlkKSkraCsiIH0iKSwgZW5kPSIiKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCQkJCWVsaWYgJz4nIGluIHNwbDoKCQkJCQlpZHNpYXBhID0gcmUuZmluZGFsbCgnY29udGVudF9vd25lcl9pZF9uZXcuXHcrJyxzdHIoY2FyaSkpCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpCgkJCQkJbmFtYXlvdSA9IGxpYXRuaWguc3BsaXQoJyA+ICcpWzBdCgkJCQkJaWRrdSA9IGlkeW91Kyd8JytuYW1heW91CgkJCQkJaWYgaWRrdSBpbiBpZDoKCQkJCQkJY29udGludWUKCQkJCQllbHNlOgoJCQkJCQlpZC5hcHBlbmQoaWRrdSkKCQkJCQkJcHJpbnQoKCJcciIrYmFsbW9uZCtoKyIgeyAiK08rIk1lbmd1bXB1bGthbiBJRCAiK3N0cihsZW4oaWQpKStoKyIgfSIpLCBlbmQ9IiIpO3N5cy5zdGRvdXQuZmx1c2goKQoJCQkJZWxzZToKCQkJCQljb250aW51ZQoJCQl0cnk6CgkJCQlsaW5rXyA9IGJjajIKCQkJCXVzZS5pbnNlcnQoMCwnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytsaW5rXykKCQkJZXhjZXB0OgoJCQkJZ2lyYW5nID0gc2V0LmZpbmQoJ3RpdGxlJykKCQkJCWdpcmFuZzIgPSBnaXJhbmcudGV4dC5yZXBsYWNlKCIgfCBGYWNlYm9vayIsIiIpLnJlcGxhY2UoIiBHcnVwIFB1YmxpayIsIiIpCgkJCQlpZiBnaXJhbmcyPT0nTWFzdWsgRmFjZWJvb2snOgoJCQkJCXBhc3MKCQkJCWVsc2U6CgkJCQkJbGFoKCkKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRyeToKCQkJCXRpbWUuc2xlZXAoMzEpCgkJCWV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKCQkJCWxhaCgpCgkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCQlsYWgoKQojLS0tLS0tLS0tLS0tLVsgQ1JBQ0stRlJPTS1GSUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBjcmFja19maWxlKCk6Cgl0cnk6dmluID0gb3MubGlzdGRpcignRFVNUCcpCglleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaXRlbXVrYW4gJykKCQl0aW1lLnNsZWVwKDIpCgkJYmFjaygpCglpZiBsZW4odmluKT09MDoKCQlwcmludCgnPT5LYW11IFRpZGFrIE1lbWlsaWtpIEZpbGUgRHVtcCAnKQoJCXRpbWUuc2xlZXAoMikKCQliYWNrKCkKCWVsc2U6CgkJY2loID0gMAoJCWxvbCA9IHt9CgkJZm9yIGlzaSBpbiB2aW46CgkJCXRyeTpoZW0gPSBvcGVuKCdEVU1QLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJZXhjZXB0OmNvbnRpbnVlCgkJCWNpaCs9MQoJCQlpZiBjaWg8MTAwOgoJCQkJbm9tID0gJycrc3RyKGNpaCkKCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pCgkJCQlwcmludChmJz0+JXMuICVzICh7aH0gJXN7dX0gaWR6ICknJShub20saXNpLGxlbihoZW0pKSkKCQkJZWxzZToKCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQoJCQkJcHJpbnQoJz0+JXMuICVzICh7aH0gJXMge3V9aWR6KSAnJShjaWgsaXNpLGxlbihoZW0pKSkKCQlnZWVoID0gaW5wdXQoJ1xuPT5DSE9TRSA6ICcpCgkJdHJ5OmdlaCA9IGxvbFtnZWVoXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQoZid7a309PlBpbGloIFlhbmcgQmVuZXIgS29udG9sIHt1fScpCgkJCXRpbWUuc2xlZXAoMykKCQkJYmFjaygpCgkJdHJ5OmxpbiA9IG9wZW4oJ0RVTVAvJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJZXhjZXB0OgoJCQlwcmludCgnPT5GaWxlIFRpZGFrIERpdGVtdWthbiwgQ29iYSBMYWdpIE5hbnRpICcpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJZm9yIHhpZCBpbiBsaW46CgkJCWlkLmFwcGVuZCh4aWQpCgkJc2V0dGluZygpCiMtLS0tLS0tLS0tLS0tWyBJZCAtQ3JhY2tpaW5nXS0tLS0tLS0tLS0tLS0tLSMKZGVmIHNldHRpbmcoKToKCWNldGFrKG5lbCgnXHRbYm9sZCBjeWFuXSAgICAgICAgIENMT05JTkcgTUVOVSDigKIgWy9ib2xkIGN5YW5dJykpCglwcmludCgnJykgCgljZXRhayhuZWwoJ1tib2xkIHllbGxvd11b4oiaXeKeozEuIENMT05FIEpVU1QgT0xEIElEWiBcblviiJpd4p6jMi4gQ0xPTkUgSlVTVCBORVcgSURaIChSRUNPTUVORClcblviiJpd4p6jMy4gQ0xPTkUgTUlYIElEWiAoTkVXL09MRCk9PlJFQ09NRU5EIFtib2xkIGJsdWVdJykpCglwcmludCgnJykKCWh1ID0gaW5wdXQoJ1wwMzNbMTs5Nm09PkNIT09TRSA6XDAzM1sxOzk2bSAnKQoJaWYgaHUgaW4gWycxJywnMDEnXToKCQlmb3IgdHVhIGluIHNvcnRlZChpZCk6CgkJCWlkMi5hcHBlbmQodHVhKQoKCWVsaWYgaHUgaW4gWycyJywnMDInXToKCQltdWRhPVtdCgkJZm9yIGJhY290IGluIHNvcnRlZChpZCk6CgkJCW11ZGEuYXBwZW5kKGJhY290KQoJCWJjbT1sZW4obXVkYSkKCQliY21pPShiY20tMSkKCQlmb3IgeG11ZCBpbiByYW5nZShiY20pOgoJCQlpZDIuYXBwZW5kKG11ZGFbYmNtaV0pCgkJCWJjbWkgLT0xCgllbGlmIGh1IGluIFsnMycsJzAzJ106CgkJZm9yIGJhY290IGluIGlkOgoJCQl4eCA9IHJhbmRvbS5yYW5kaW50KDAsbGVuKGlkMikpCgkJCWlkMi5pbnNlcnQoeHgsYmFjb3QpCgllbHNlOgoJCXByaW50KCc9PlRSWSBBR0FJTicpCgkJZXhpdCgpCgljZXRhayhuZWwoJ1x0W2JvbGQgY3lhbl0gICAgICAgICAgICAg4oCiIE1FVEhPREUgTE9HSU4g4oCiIFsvYm9sZCBjeWFuXScpKQoJcHJpbnQoJycpIAoJY2V0YWsobmVsKCdbYm9sZCBwdXJwbGVdW+KIml3inqMxLiBNT0JJTEVcblviiJpd4p6jMi4gTUJBU0lDXG5b4oiaXeKeozMuIFRPVUNIXG5b4oiaXeKeozQuIE1UT1VDSCBbYm9sZCB5ZWxsb3ddJykpIAoJcHJpbnQoJycpCgloYyA9IGlucHV0KCdcMDMzWzE7OTZtPj4gQ0hPT1NFIDpcMDMzWzE7OTZtICcpCglpZiBoYyBpbiBbJzEnLCcwMSddOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCgllbGlmIGhjIGluIFsnMicsJzAyJ106CgkJbWV0aG9kLmFwcGVuZCgnbW9iaWxlJykKCWVsaWYgaGMgaW4gWyczJywnMDMnXToKCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQoJZWxpZiBoYyBpbiBbJzQnLCcwNCddOgoJCW1ldGhvZC5hcHBlbmQoJ21iYXNpYycpCgllbHNlOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCglwcmludChmJ3ttfU5PVEUgOlxu8J+MmntrfVVTRSBERUZVTFQgUEFTUyBNRU5VICcpIAoJcHJpbnQoJycpCglfamVtYm90XyA9IGlucHV0KCc9PlNIT1cgQVBLUyAoIFkvdCApICcpCiMJaWYgX2plbWJvdF8gaW4gWycnXToKIwkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBLb250b2wgJykKIwkJYmFjaygpCiMgICBlbGlmIF9qZW1ib3RfIGluIFsneScsJ1knXToKCQkjdGFwbGlrYXNpLmFwcGVuZCgneWEnKQoJI2Vsc2U6CgkJI3RhcGxpa2FzaS5hcHBlbmQoJ25vJykKCXB3cGx1cz1pbnB1dCgnPT5QQVNXT1JEIE1FTlUgTUVOVUFMKENIT0lTRSkvREVGVUxUKEFVVE8pKCBtL2QgKSAnKQoJaWYgcHdwbHVzIGluIFsneScsJ1knXToKCQlwd3BsdXNzLmFwcGVuZCgneWEnKQoJCWNldGFrKG5lbCgnW1twdXJwbGVd4oCiW3llbGxvd11dIEFERCBQQVNXT1JEIE1YTSA2IFdPUkRTXG5bW3B1cnBsZV3igKJbeWVsbG93XV0gRVhJTVBMRSA6W2dyZWVuXSA1NTY2NzcsNzg2Nzg2LDEyMzQ1NltwdXJwbGVdICcpKQoJCXB3a3U9aW5wdXQoJyM9PkFkZCBQQVNTV09SRFMgOiAnKQoJCXB3a3VoPXB3a3Uuc3BsaXQoJywnKQoJCWZvciB4cHcgaW4gcHdrdWg6CgkJCXB3bnlhLmFwcGVuZCh4cHcpCgllbHNlOgoJCXB3cGx1c3MuYXBwZW5kKCdubycpCglwYXNzd3JkKCkKCWV4aXQoKSAKIy0tLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1XT1JETElTVCBdLS0tLS0tLS0tLS0tIwpkZWYgcGFzc3dyZCgpOgoJY2V0YWsobmVsKCdbYm9sZCBjeWFuXSAgICAgICAgICAgICAgIFdBSVQgRk9SIEEgV0hJTEUg8J+Ygltib2xkIGN5YW5dJykpIAoJcHJpbnQoZicgICAgICAgICAgICAgICAgICAgIHttfUIge2t9QSB7aH1JIHt1fVoge2J9SSB7bX1EIHt1fSAg4piFICB7Yn1NIHt1fU8ge2h9UyB7a31UIHttfUEge3V9RiB7aH1BIHtifScpCglwcmludCgnJykKCXByaW50KGYnPT5CQUlaSUQge2h9T0t7dX0gQ0hFSyA6IHtofU9LLyVzIHtifSclKG9rYykpCglwcmludChmJz0+QkFJWklEIHtrfUNQe2h9IENIRUsgOiB7a31DUC8lcyB7Yn0nJShjcGMpKQoJcHJpbnQoZic9PlRVUk4gQUlSUExBTkUgTU9ERSBBRlRFUiBDTE9ORSBJRFogQUJPVkUge2h9MUt7dX0gSWR6XG4nKQoJd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBwb29sOgoJCWZvciB5dXpvbmcgaW4gaWQyOgoJCQlpZGYsbm1mID0geXV6b25nLnNwbGl0KCd8JylbMF0seXV6b25nLnNwbGl0KCd8JylbMV0ubG93ZXIoKQoJCQlmcnMgPSBubWYuc3BsaXQoJyAnKVswXQoJCQlwd3YgPSBbXQoJCQlpZiBsZW4obm1mKTw2OgoJCQkJaWYgbGVuKGZycyk8MzoKCQkJCQlwYXNzCgkJCQllbHNlOgoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NTYnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIwJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMScpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjInKQoJCQllbHNlOgoJCQkJaWYgbGVuKGZycyk8MzoKCQkJCQlwd3YuYXBwZW5kKG5tZikKCQkJCWVsc2U6CgkJCQkJcHd2LmFwcGVuZChubWYpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1NicpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjAnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIxJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMicpCgkJCWlmICd5YScgaW4gcHdwbHVzczoKCQkJCWZvciB4cHdkIGluIHB3bnlhOgoJCQkJCXB3di5hcHBlbmQoeHB3ZCkKCQkJZWxzZTpwYXNzCgkJCWlmICdtb2JpbGUnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCgkJCWVsaWYgJ2ZyZWUnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCgkJCWVsaWYgJ3RvdWNoJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQoJCQllbGlmICdtYmFzaWMnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCgkJCWVsc2U6CgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQoJcHJpbnQoJycpCgljZXRhayhuZWwoJ1x0W3B1cnBsZV09PltncmVlbl0gQ3JhY2sgU2VsZXNhaSBOZ2FiLCBKYW5nYW4gTHVwYSBCZXJzeXVrdXJbcHVycGxlXSA8PFt5ZWxsb3ddICcpKQoJcHJpbnQoZidbe2h94oCie3V9XXtofSBPSyA6IHtofSVzICclKG9rKSkKCXByaW50KGYne2t9W3trfeKAontofV17a30gQ1AgOiB7a30lc3t1fSAnJShjcCkpCglwcmludCgnJykKCXByaW50KCd7a309Pkxhbmp1dCBDcmFjayBLZW1iYWxpICggWS90ICkgPyAnKQoJd29pID0gaW5wdXQoJz0+UGlsaWggOiAnKQoJaWYgd29pIGluIFsneScsJ1knXToKCQliYWNrKCkKCWVsc2U6CgkJcHJpbnQoZidcdHt4fT0+e2t9IEdvb2QgQnllIERhZGFhaGh7dX0gJykKCQl0aW1lLnNsZWVwKDIpCgkJZXhpdCgpCiMtLS0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUT0RFLUItQVBJIF0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJvID0gcmFuZG9tLmNob2ljZShbbSxrLGgsYix1LHhdKQoJc3lzLnN0ZG91dC53cml0ZShmIlxye2J98J2QgfCdkIDwnZCI8J2QmfCdkIjwnZCDLfCfjLktLT57UH1be2t9e2xvb3B9e1B9L3tofXtsZW4oaWQpfXtQfV3igJR7UH1be0h9e29rfXtQfV3igJR7UH1be2t9e2NwfXt4fV3igJRbe2JvfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oaWQpKSl9e1B9XSAgIiksCglzeXMuc3Rkb3V0LmZsdXNoKCkKCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCW5pcD1yYW5kb20uY2hvaWNlKHByb3gpCgkJCXByb3hzPSB7J2h0dHAnOiAnc29ja3M0Oi8vJytuaXB9CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eyJIb3N0IjonbS5mYWNlYm9vay5jb20nLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL20uZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6dWEsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWNldGFrKG5lbCgnICBbcmVkXSAgICAg4pyoIPCdkIHwnZCA8J2QiPCdkJnwnZCI8J2Qgy1DUCDinKggW3JlZF0nKSkKCQkJCXByaW50KGYnXHJ7S30+PiB7aWRmfXx7cHd9e059JykgICAgIAoJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJY3ArPTEgCgkJCQlicmVhawoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJb2srPTEKCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQljZXRhayhuZWwoJ1tncmVlbl0gICAgICDwn5Sl4pyoIPCdkIHwnZCA8J2QiPCdkJnwnZCI8J2Qgy1PSyDwn5Sl4pyoW2dyZWVuXScpKSAKCQkJCXByaW50KGYnXHJ7SH0+PiB7aWRmfXx7cHd9fHtrdWtpfVxue3VhfXtOfScpCgkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK3VhKydcbicpCgkJCQljZWtfYXBrKHNlc3Npb24sY29raSkKCQkJCWJyZWFrCgkJCQkKCQkJZWxzZToKCQkJCWNvbnRpbnVlCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQl0aW1lLnNsZWVwKDMxKQoJbG9vcCs9MQojLS0tLS0tLS0tLS0tLS0tLS0tWyBNRVRIT0RFLU1CQVNJQy0yIF0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2tmcmVlKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCXN5cy5zdGRvdXQud3JpdGUoZiJccuKdpO+4jyB7UH1be2FzdX1NYmFzaWN7UH1de1B9W3tifXtsb29wfXtQfS97cH17bGVuKGlkKX17UH1d4oCUe1B9W3tIfXtva317UH1d4oCUe1B9W3trfXtjcH17eH1d4oCUW3ttfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oaWQpKSl9e1B9XSAgIiksCglzeXMuc3Rkb3V0LmZsdXNoKCkKCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiJwLmZhY2Vib29rLmNvbSIsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLWRlc3QiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eyJIb3N0IjoicC5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL3AuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU0FNU1VORyBTTS1HNzgwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTYuMCBDaHJvbWUvOTIuMC40NTE1LjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWNldGFrKG5lbCgnICBbcmVkXSAgICAg8J+YrSBNT0hPTiBNQUFGIEFOREEgQkVMVU0gQkVSVU5UVU5HIE1PSE9OIEJFUlNBQkFSIPCfmK1bcmVkXScpKQoJCQkJcHJpbnQoZidccntLfT4+IHtpZGZ9fHtwd317Tn0nKSAgICAgCgkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQljcCs9MQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCW9rKz0xCgkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJY2V0YWsobmVsKCdbcHVycGxlXSAgICAgIPCfmK1IRUxMTyBUSElTIE1VU0xJTS1YRCDwn6SjW3B1cnBsZV0nKSkgCgkJCQlwcmludChmJ1xye0h9Pj4ge2lkZn18e3B3fXx7a3VraX17Tn0nKQoJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQljZWtfYXBrKHNlc3Npb24sY29raSkKCQkJCWJyZWFrCgkJCQkKCQkJZWxzZToKCQkJCWNvbnRpbnVlCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQl0aW1lLnNsZWVwKDMxKQoJbG9vcCs9MQoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUSE9ERS1UT1VDSC0zIF0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBjcmFja3RvdWNoKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCXByb3hzPSB7J2h0dHAnOiAnc29ja3M1Oi8vJytuaXB9Cgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMg4pisICVzLyVzIOKYrCBPSzolcyDimKwgQ1A6JXMg4pisICVzJXMlcyDimKwnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSk7c3lzLnN0ZG91dC5mbHVzaCgpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J21iYXNpYy5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtYmFzaWMuZmFjZWJvb2suY29tJywiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6dWEsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOidodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZsb2NhbGU9aWRfSUQmX3JkcicsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnCgkJCQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbGlmICd5YScgaW4gcHJpbmNwOgoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEICAgICAgIDoge2lkZn0gW+KAol0gUEFTU1dPUkQgOiB7cHd9JwoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3JlZCcpCgkJCQkJY2V0YWsobmVsKHN0YXR1c2NwMSwgdGl0bGU9J0lsaGFtLVJkIENQJykpCgkJCQkJb3BlbignL3NkY2FyZC/wnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkIMvQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJZWxzZTpjb250aW51ZQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWhlYWRhcHA9eyJ1c2VyLWFnZW50IjoiU3VwcG9ydHNGcmVzY289MSBEYWx2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIDYuMC4xOyBTTS1KMjEwRiBCdWlsZC9NTUIyOVEpIFNvdXJjZS8xIFtGQkFOL0VNQTtVTklUWV9QQUNLQUdFLzM0MjtGQkJWLzEwNzU4NjcwNjtGQkFWLzE3Mi4wLjAuOC4xODI7RkJEVi9TTS1KMjEwRjtGQkxDL2lkX0lEO0ZCT1AvMjBdIn0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQv8J2QgfCdkIDwnZCI8J2QmfCdkIjwnZCDL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1vigKJdIElEICAgICAgIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX0nCgkJCQkJc3RhdHVzb2sxID0gbmVsKHN0YXR1c29rLCBzdHlsZT0nZ3JlZW4nKQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSct8J2QgfCdkIDwnZCI8J2QmfCdkIjwnZCDICBPSycpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6CgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignL3NkY2FyZC/wnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkIMvT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJdXNlcj1pZGYKCQkJCQlpbmZvYWt1biA9ICIiCgkJCQkJc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQlpbmZvYWt1biArPSAoZiJcbltib2xkIGN5YW5dW+KAol0gTElTVCBBQ1RJVkUgQVBQTElDQVRJT05TIDpbL2JvbGQgY3lhbl0gXG4iKQoJCQkJCWFwa2FrdGlmPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlaykpCgkJCQkJbm9rPTEKCQkJCQlmb3IgbXVuY3VsIGluIGFwa2FrdGlmOgoJCQkJCQlpbmZvYWt1bis9IChmIltib2xkIGN5YW5dW3tub2t9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCBjeWFuXVxuIikKCQkJCQkJbm9rKz0xCgoJCQkJCWhpdD0wCgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCB5ZWxsb3ddW+KAol0gTElTVCBFWFBJUkVEIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIHllbGxvd11cbiIpCgkJCQkJYXBrZXhwPXJlLmZpbmRhbGwoJzwvaT48ZGl2IGNsYXNzPSIuKj8iPjxzcGFuIGNsYXNzPSIuKj8iPiguKj8pPC9zcGFuPjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2Picsc3RyKGNlazIpKQoJCQkJCWhpdD0wCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtleHA6CgkJCQkJCWhpdCs9MQoJCQkJCQlpbmZvYWt1biArPSAoZiJbYm9sZCB5ZWxsb3ddW3toaXR9XSB7bXVuY3VsWzBdfSB7bXVuY3VsWzFdfVsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzb2sgPSBmJ1tib2xkIGdyZWVuXVvigKJdIElEICAgICAgIDoge2lkZn1cblvigKJdIFBBU1NXT1JEIDoge3B3fVxuW+KAol0gQ09PS0lFUyAgOiB7a3VraX1bL2JvbGQgZ3JlZW5dXG57aW5mb2FrdW59JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nW2JvbGQgZ3JlZW5d8J2QgfCdkIDwnZCI8J2QmfCdkIjwnZCDICBPS1svYm9sZCBncmVlbl0nKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgoKCQkJZWxzZToKCQkJCWNvbnRpbnVlCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQl0aW1lLnNsZWVwKDMxKQoJbG9vcCs9MQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUSE9ERS1NVE9VQ0grTU9CSUxFLTQgXS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2ttYmFzaWMoaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCgluaXA9cmFuZG9tLmNob2ljZShwcm94KQoJcHJveHM9IHsnaHR0cCc6ICdzb2NrczU6Ly8nK25pcH0KCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJc3lzLnN0ZG91dC53cml0ZSgnXHIlcyDimKwgJXMvJXMg4pisIE9LOiVzIOKYrCBDUDolcyDimKwgJXMlcyVzIOKYrCclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LH0KCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJa29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2JwoJCQloZWFkZT17J0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhJzogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSI5OCInLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ29yaWdpbic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJywnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywnYWNjZXB0LWxhbmd1YWdlJzogJ2ZyX0ZSLGZyO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JywnY29ubmVjdGlvbic6ICdjbG9zZSd9CgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAneWEnIGluIG9wcmVrOgoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY2VrZXIoaWRmLHB3KQoJCQkJZWxpZiAneWEnIGluIHByaW5jcDoKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScKCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSdyZWQnKQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSfwnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkIMgIENQJykpCgkJCQkJb3BlbignL3NkY2FyZC/wnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkINHL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkL/CdkIHwnZCA8J2QiPCdkJnwnZCI8J2Qgy9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nT0snKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YScgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQv8J2QgfCdkIDwnZCI8J2QmfCdkIjwnZCDL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCBjeWFuXVvigKJdIExJU1QgQUNUSVZFIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIGN5YW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCBjeWFuXVt7bm9rfV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgY3lhbl1cbiIpCgkJCQkJCW5vays9MQoKCQkJCQloaXQ9MAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCWFwa2V4cD1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWsyKSkKCQkJCQloaXQ9MAoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOgoJCQkJCQloaXQrPTEKCQkJCQkJaW5mb2FrdW4gKz0gKGYiW2JvbGQgeWVsbG93XVt7aGl0fV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgeWVsbG93XVxuIikKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidbYm9sZCBncmVlbl1b4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIGdyZWVuXVxue2luZm9ha3VufScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXU5BWUlNLUtJTkcgIE9LWy9ib2xkIGdyZWVuXScpKQoJCQkJCW9rKz0xCgkJCQkJYnJlYWsKCQkJZWxzZToKCQkJCWNvbnRpbnVlCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQl0aW1lLnNsZWVwKDMxKQoJbG9vcCs9MQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENIRUNLLU9QU0ktQ0hFS1BPSU5UIF0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY2VrZXIoaWRmLHB3KToKCWdsb2JhbCBjcAoJdWEgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjEyOCBTYWZhcmkvNTM3LjM2IEZCTUYvSFVBV0VJO0ZCQkQvSFVBV0VJO0ZCUE4vY29tLmZhY2Vib29rLnNlcnZpY2VzO0ZCRFYvRVZSLUwyOTtGQlNWLzEwO0ZCTFIvMDtGQkJLLzE7RkJDQS9hcm02NC12OGE6O10nCgloZWFkID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJdHJ5OgoJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQlobyA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6aWRmLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkudGV4dCwnaHRtbC5wYXJzZXInKQoJCWpvID0gaG8uZmluZCgnZm9ybScpCgkJZGF0YSA9IHt9CgkJbGlvbiA9IFsnbmgnLCdqYXpvZXN0JywnZmJfZHRzZycsJ3N1Ym1pdFtDb250aW51ZV0nLCdjaGVja3BvaW50X2RhdGEnXQoJCWZvciBhbmogaW4gam8oJ2lucHV0Jyk6CgkJCWlmIGFuai5nZXQoJ25hbWUnKSBpbiBsaW9uOgoJCQkJZGF0YS51cGRhdGUoe2Fuai5nZXQoJ25hbWUnKTphbmouZ2V0KCd2YWx1ZScpfSkKCQlrZW50ID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK3N0cihqb1snYWN0aW9uJ10pLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZCkudGV4dCwnaHRtbC5wYXJzZXInKQoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJaWYgbGVuKG9wc2kpPT0wOgoJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJZWxzZToKCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCglleGNlcHQgRXhjZXB0aW9uIGFzIGM6CgkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZGYscHcseCkpCgkJcHJpbnQoJ1xyJXMtLS0+IFRpZGFrIERhcGF0IE1lbmdlY2VrIE9wc2kgKENlayBMb2dpbiBEaSBMaXRlL01iYXNpYyklcyclKHUseCkpCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJY3ArPTEKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDSEVDSy1PUFNJLUNIRUtQT0lOVC0yIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY2VrX29wc2koKToKCWMgPSBsZW4oYWt1bikKCWh1ID0gJ1RlcmRhcGF0ICVzIEFrdW4gVW50dWsgRGljZWtcblNlYmVsdW0gTXVsYWksIE1vZGUgUGVzYXdhdC9VYmFoIEthcnR1IFNpbSBUZXJsZWJpaCBEYWh1bHUnJShjKQoJY2V0YWsobmVsKGh1LCB0aXRsZT0nQ0VLIE9QU0knKSkKCWlucHV0KHUrJ1snK2grJ+KAoicrdSsnXSBNdWxhaScpCgljZWsgPSAnIyBQUk9TRVMgQ0VLIE9QU0kgRElNVUxBSScKCXNvbCgpLnByaW50KG1hcmsoY2VrLCBzdHlsZT0nZ3JlZW4nKSkKCWxvdmUgPSAwCglmb3Iga2VzIGluIGFrdW46CgkJdHJ5OgoJCQl0cnk6CgkJCQlpZCxwdyA9IGtlcy5zcGxpdCgnfCcpWzBdLGtlcy5zcGxpdCgnfCcpWzFdCgkJCWV4Y2VwdCBJbmRleEVycm9yOgoJCQkJdGltZS5zbGVlcCgyKQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzIC0tLS0+IEVycm9yICAgICAgJXMnJShiLGtlcyx4KSkKCQkJCXByaW50KCdcciVzLS0tPiBQZW1pc2FoIFRpZGFrIERpZHVrdW5nIFVudHVrIFByb2dyYW0gSW5pJXMnJSh1LHgpKQoJCQkJY29udGludWUKCQkJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCQkJcHJpbnQoJ1xyJXMtLS0+ICVzLyVzIC0tLT4geyAlcyB9JXMnJShiaSxsb3ZlLGxlbihha3VuKSxpZCx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgkJCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMTsgVEVDTk8gS0Q4KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU1LjEwMSBNb2JpbGUgU2FmYXJpLzUzNy4zNicKCQkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCWhlYWRlciA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9CgkJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykKCQkJaG8gPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkLCdwYXNzJzpwdywnbG9naW4nOidzdWJtaXQnfSwgaGVhZGVycz1oZWFkZXIsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJCWlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXRyeToKCQkJCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCQkJCWRhdGEgPSB7fQoJCQkJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQkJCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQkJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJCQkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcikudGV4dCwnaHRtbC5wYXJzZXInKQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpCgkJCQkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpCgkJCQkJaWYgbGVuKG9wc2kpPT0wOgoJCQkJCQlwcmludCgnXHIlcy0tLT4gVGFwIFllcyAvIEEyRiAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljJXMpJyUoaGgseCkpCgkJCQkJZWxzZToKCQkJCQkJZm9yIG9wc2lpIGluIG9wc2k6CgkJCQkJCQlwcmludCgnXHIlcy0tLT4gJXMlcyclKGtrLG9wc2lpLnRleHQseCkpCgkJCQlleGNlcHQ6CgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSVzJyUodSx4KSkKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBPSyAgICAgICAlcyclKGgsaWQscHcseCkpCgkJCWVsc2U6CgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gU0FMQUggICAgICAgJXMnJSh4LGlkLHB3LHgpKQoJCQlsb3ZlKz0xCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwcmludCgnJykKCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCXNvbCgpLnByaW50KG1hcmsobGksIHN0eWxlPSdyZWQnKSkKCQkJZXhpdCgpCglkYWggPSAnIyBET05FJwoJc29sKCkucHJpbnQobWFyayhkYWgsIHN0eWxlPSdncmVlbicpKQoJZXhpdCgpCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDRUstQVBMSUtBU0kgXS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNla19hcGsoc2Vzc2lvbixjb29raWUpOgoJdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb29raWV9KS50ZXh0Cglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikKCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikKCWdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCglpZiBsZW4oZ2FtZSk9PTA6CgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gb3BzaGggdGlkYWsgYWRhIGFwbGlrYXNpIGFrdGlmIGRpIGFrdW4gaW5pLiIpCgllbHNlOgoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CgkJCXByaW50KCIgICAlcyVzLiAlcyVzIiUoSCxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJEaXRhbWJhaGthbiBwYWRhIiwiIERpdGFtYmFoa2FuIHBhZGEiKSxOKSkKCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb29raWV9KS50ZXh0Cglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikKCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikKCWdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCglpZiBsZW4oZ2FtZSk9PTA6CgkJcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gb3BzaGggdGlkYWsgYWRhIGFwbGlrYXNpIGthZGFsdWFyc2EgZGkgYWt1biBpbmkuIikKCWVsc2U6CgkJZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToKCQkJcHJpbnQoIiAgICVzJXMuICVzJXMiJShLLGkrMSxnYW1lW2ldLnJlcGxhY2UoIktlZGFsdXdhcnNhIiwiIEtlZGFsdXdhcnNhIiksTikpCgojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIFNZU1RFTS1DT05UUk9MIF0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKaWYgX19uYW1lX189PSdfX21haW5fXyc6Cgl0cnk6b3Muc3lzdGVtKCdnaXQgcHVsbCcpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdPSycpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdDUCcpCglleGNlcHQ6cGFzcwoJdHJ5Om9zLm1rZGlyKCdEVU1QJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3Muc3lzdGVtKCd0b3VjaCAucHJveC50eHQnKQoJZXhjZXB0OnBhc3MKCWxvZ2luKCkK'))