#Admin : BAIZID MOSTAFA 
#Github : BAIZID-171
#WhatsApp : +8801867705596
#Version : 2.0.1

import base64
exec(base64.b64decode('Iy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtJTVBPUlRdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkCmltcG9ydCBvcyxzeXMsdGltZSxqc29uLHJhbmRvbSxyZSxzdHJpbmcscGxhdGZvcm0sYmFzZTY0LHBsYXRmb3JtLHV1aWQKaW1wb3J0IHJlcXVlc3RzLHJhbmRvbSxzeXMsanNvbixvcyxyZQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gb3MgaW1wb3J0IHN5c3RlbQppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sdXJsbGliLHV1aWQsaXBhZGRyZXNzLGNhbGVuZGFyLHJlcXVlc3RzLG1lY2hhbml6ZSxiczQsc3lzLG9zLHN1YnByb2Nlc3MsdXVpZCxyZXF1ZXN0cyxzeXMscmFuZG9tLHRpbWUscmUsYmFzZTY0LGpzb24scGxhdGZvcm0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgd2FrdHUKZnJvbSByYW5kb20gaW1wb3J0IHJhbmRvbSBhcyBhY2FrCmZyb20gcmFuZG9tIGltcG9ydCBjaG9pY2UgYXMgcGlsaWgKZnJvbSByYW5kb20gaW1wb3J0IHJhbmRpbnQKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MKZnJvbSBzeXMgaW1wb3J0IGV4aXQgYXMgZXhpdApjbGFzcyBqYWxhbjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToKICAgICAgICBmb3IgZSBpbiB6ICsgIlxuIjoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgdGltZS5zbGVlcCgwLjAwOSkKCiMjIy0tLS0tLS0tLS1bIElNUE9SVCBMSUJSQVJZIF0tLS0tLS0tLS0tICMjIwppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IGJzNAppbXBvcnQgc3lzCmltcG9ydCBvcwppbXBvcnQgcmFuZG9tCmltcG9ydCB0aW1lCmltcG9ydCByZQppbXBvcnQganNvbgppbXBvcnQgdXVpZAppbXBvcnQgc3VicHJvY2VzcwppbXBvcnQgbWFyc2hhbAppbXBvcnQgcmljaAppbXBvcnQgc2h1dGlsCmltcG9ydCB3ZWJicm93c2VyCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgVGhyZWFkUG9vbApmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBwYXIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQojIGZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcHJpbnRlcgpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlCmltcG9ydCBtYXJzaGFsCnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwogICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sCiAgICBpbXBvcnQgbWVjaGFuaXplCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgbWVjaGFuaXplIHJlcXVlc3RzIGZ1dHVyZXM9PTIgPiAvZGV2L251bGwnKQogICAgb3Muc3lzdGVtKCdweXRob24gQkFJWklELnB5JykKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgd2FrdHUKdWdlbiA9IFtdCgpBID0gJ1x4MWJbMTs5N20nIApCID0gJ1x4MWJbMTs5Nm0nIApDID0gJ1x4MWJbMTs5MW0nIApEID0gJ1x4MWJbMTs5Mm0nCk0gPSAnXDAzM1sxOzMxbScKSCA9ICdcMDMzWzE7MzJtJwpOID0gJ1x4MWJbMTszN20nICAgIApFID0gJ1x4MWJbMTs5M20nIApGID0gJ1x4MWJbMTs5NG0nCkcgPSAnXHgxYlsxOzk1bScKUCA9ICdcMDMzWzE7MzdtJwpSRUQgPSAnXDAzM1sxOzkxbScKV0hJVEUgPSAnXDAzM1sxOzk3bScKR1JFRU4gPSAnXDAzM1sxOzMybScgIwpZRUxMT1cgPSAnXDAzM1sxOzMzbScKQkxVRSA9ICdcMDMzWzE7MzRtJwpPUkFOR0UgPSAnXDAzM1sxOzM1bScKQkFJWklEID0gJ3sgQkFJWklEIH0nCm5vdyA9IGRhdGV0aW1lLm5vdygpCmR0X3N0cmluZyA9IG5vdy5zdHJmdGltZSgiJUg6JU0iKQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkKdGEgPSBjdXJyZW50LnllYXIKYnUgPSBjdXJyZW50Lm1vbnRoCmhhID0gY3VycmVudC5kYXkKdG9kYXkgPSBkYXRlLnRvZGF5KCkKQkFJWklEMiA9ICJcMDMzWzE7MzNt4pagXDAzM1sxOzMybeKWoFx4MWJbMG0iCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6CiAgICB4PSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pCiAgICBjPScgZW4tdXM7IEdULScKICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQogICAgaT0nMCcKICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnCiAgICB1YWt1Mj1mJ3t4fSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScKICAgIHVnZW4uYXBwZW5kKHVha3UyKQoKCmxvb3AgPSAwCmNwID0gW10Kb2sgPSBbXQp0d2YgPSBbXQoKZGVmIGNsZWFyKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0CmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQKbHR4ID0gaW50KGx0KClbM10pCmlmIGx0eCA+IDEyOgogICAgYSA9IGx0eC0xMgogICAgdGFnID0gIlBNIgplbHNlOgogICAgYSA9IGx0eAogICAgdGFnID0gIkFNIgpsb2dvID1mIiIiCiBcMDMzWzE7OTVtIF9fX19fX18gIF9fX19fX18gIF8gICAgICAgIF9fX19fXyAgIF9fX19fX18gIF9fX19fX18gXDAzM1sxOzk1bSAKXDAzM1sxOzk1bSggIF9fX18gKSggIF9fXyAgKSggKCAgICAvfCggIF9fICBcICggIF9fXyAgKSggICAgICAgKVwwMzNbMTs5NW0KXDAzM1sxOzk1bXwgKCAgICApfHwgKCAgICkgfHwgIFwgICggfHwgKCAgXCAgKXwgKCAgICkgfHwgKCkgKCkgfFwwMzNbMTs5NW0KXDAzM1sxOzk1bXwgKF9fX18pfHwgKF9fXykgfHwgICBcIHwgfHwgfCAgICkgfHwgfCAgIHwgfHwgfHwgfHwgfFwwMzNbMTs5NW0KXDAzM1sxOzk2bXwgICAgIF9fKXwgIF9fXyAgfHwgKFwgXCkgfHwgfCAgIHwgfHwgfCAgIHwgfHwgfChfKXwgfFwwMzNbMTs5Nm0KXDAzM1sxOzk2bXwgKFwgKCAgIHwgKCAgICkgfHwgfCBcICAgfHwgfCAgICkgfHwgfCAgIHwgfHwgfCAgIHwgfFwwMzNbMTs5Nm0KXDAzM1sxOzk2bXwgKSBcIFxfX3wgKSAgICggfHwgKSAgXCAgfHwgKF9fLyAgKXwgKF9fXykgfHwgKSAgICggfFwwMzNbMTs5Nm0KXDAzM1sxOzk2bXwvICAgXF9fL3wvICAgICBcfHwvICAgIClfKShfX19fX18vIChfX19fX19fKXwvICAgICBcfCBcMDMzWzE7OTZtCiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgIAogXDAzM1sxOzM3bS0tLS0tLS0tLS0tLS0tLS0t4oCQV0VMQ09NRSBUTyDwnZCB8J2QgPCdkIjwnZCZ8J2QiPCdkIMg8J2QhfCdkJHwnZCE8J2QhCBUT09MLS0tLS0tLS0tLS0tLS0tLS0tClwwMzNbMTszMW3ilIJcMDMzWzE7MzJt4pagICBcMDMzWzE7MzJt8J2QgPCdkJTwnZCT8J2Qh/CdkI7wnZCRICAgICBcMDMzWzE7MzFt4p6fICAgXDAzM1sxOzMybUJBSVpJRCBNT1NUQUZBICAgXDAzM1sxOzMxbQpcMDMzWzE7MzFt4pSCXDAzM1sxOzMybeKWoCAgXDAzM1sxOzMybfCdkIXwnZCA8J2QgvCdkITwnZCB8J2QjvCdkI7wnZCKICAgXDAzM1sxOzMxbeKenyAgIFwwMzNbMTszMm1NRCBCYWl6aWQgTW9zdGFmYSBBc2lmXDAzM1sxOzMxbSAgICAgClwwMzNbMTszMW3ilIJcMDMzWzE7MzJt4pagICBcMDMzWzE7MzJt8J2QhvCdkIjwnZCT8J2Qh/CdkJTwnZCBICAgIFwwMzNbMTszMW0g4p6fICAgXDAzM1sxOzMybUJBSVpJRC0xNzEgICAgICAgICAgICAgXDAzM1sxOzMxbSAKXDAzM1sxOzMxbeKUglwwMzNbMTszMm3ilqAgIFwwMzNbMTszMm3wnZCW8J2Qh/CdkIDwnZCT8J2QkvCdkIDwnZCP8J2QjyAgXDAzM1sxOzMxbSDinp8gICBcMDMzWzE7MzJtKzg4MDE4Njc3MDU1OTYgICAgICAgICAgICAgXDAzM1sxOzMxbSAKXDAzM1sxOzMxbeKUglwwMzNbMTszMm3ilqAgIFwwMzNbMTszMm3wnZCV8J2QhPCdkJHwnZCS8J2QiPCdkI7wnZCNICAgXDAzM1sxOzMxbSDinp8gICBcMDMzWzE7MzJtIDIuMC4xICAgICAgICAgICAgICAgICAgIFwwMzNbMTszMW0gICAKXDAzM1sxOzkxbT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KXDAzM1sxOzkxbT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iIiIKCmRlZiBsaW5leCgpOgogICAgcHJpbnQoZid7UkVEfT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQpkZWYgY2hlY2tzKG9rLGNwKToKICAgIGlmIG5vdCBsZW4ob2spICE9IDA6CiAgICAgICAgcGFzcwogICAgaWYgbGVuKGNwKSAhPSAwOgogICAgICAgIHByaW50KCdcblxuXHgxYlsxOzk3bSBUT1RBTCBPSyA6IFx4MWJbMTs5N20gJXMgIFx4MWJbMTs5N21CQUlaSUQtT0sudHh0JyAlICgKICAgICAgICAgICAgSCwgUCwgc3RyKGxlbihvaykpKSkKICAgICAgICBwcmludCgnXHgxYlsxOzk3bSBUT1RBTCBDUCA6XHgxYlsxOzk3bSAgICVzIFx4MWJbMTs5N21CQUlaSUQtQ1AudHh0JyAlCiAgICAgICAgICAgICAgKEgsIFAsIHN0cihsZW4oY3ApKSkpCiAgICAgICAgaW5wdXQoIlx4MWJbMTs5N21QUkVTRSBFTlRFUiBUTyBCQUNLIE1FTlUgIikKICAgICAgICB4eXooKQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tW0xPT1AgTUVOVV0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCiAgICAgICAgICAgICAgICAKbG9vcCA9IDAKY3AgPSBbXQpvayA9IFtdCnR3ZiA9IFtdCgoKCmRlZiBteV90b29sX3NlY3VyaXR5KCk6CiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGxvZ28pCiAgICBwcmludCg0NyoiLSIpCiAgICBwcmludChjLCA0NSoiLSIsIHdpdCkKICAgIHByaW50KCJcdCAgRmFjZWJvb2sgOiBNRCBCYWl6aWQgTW9zdG9mYSBBc2lmIikKICAgIHByaW50KCJcdCAgRmIgcGFnZSAgOiBI8J2ZsPCdmbPwnZm4IPCdmbDwnZm98J2Zt/CdmbDwnZm1IPCdmbDwnZm48J2ZvPCdmbDwnZm9IikKICAgIHByaW50KCJcdCAgR2l0aHViICAgOiBCQUlaSUQtMTcxIikKICAgIHByaW50KGMsIDQ1KiItIikKICAgIHByaW50KDQ3KiItIikKICAgIHRyeToKICAgICAgICB0b2tlbl9vbmU9b3BlbihrZXlfc2F2ZV9vbmUsJ3InKS5yZWFkKCkKICAgIGV4Y2VwdChyZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcik6CiAgICAgICAgcHJpbnQocmVkLCIgcGxlYXNlIG9uIGludGVybmV0IHdpZmkvZGF0YSAiKQogICAgICAgIGV4aXQoKQogICAgZXhjZXB0KEZpbGVOb3RGb3VuZEVycm9yKToKICAgICAgICBvcy5zeXN0ZW0oJ3Rlcm11eC1zZXR1cC1zdG9yYWdlJykKICAgICAgICBwcmludCgiXHQgV2VsY29tZSBUbyBCQUlaSUQgVG9vbCAuLi4uIikKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgaWlkXzE9dXVpZC51dWlkMSgpLmhleFs6N10udXBwZXIoKQogICAgICAgIGlpZF8yPXV1aWQudXVpZDEoKS5oZXhbOjddLnVwcGVyKCkKICAgICAgICBvcGVuKGtleV9zYXZlX29uZSwndycpLndyaXRlKGlpZF8xKQogICAgICAgIG9wZW4oa2V5X3NhdmVfdHdvLCd3Jykud3JpdGUoaWlkXzIpCiAgICAgICAgbXlfdG9vbF9zZWN1cml0eSgpCiAgICBleGNlcHQoS2V5RXJyb3IsT1NFcnJvcixJT0Vycm9yKToKICAgICAgICBvcy5zeXN0ZW0oInRlcm11eC1zZXR1cC1zdG9yYWdlIikKICAgICAgICBwcmludCgiXG4gSGV5IHVzZXIgd2UgYXJlIGZhY2luZyBpc3N1ZXMgd2l0aCB5b3VyIGRldmljZSIpCiAgICAgICAgcHJpbnQoIiBHaXZlIHRlcm11eCBzdG9yYWdlIHBlcm1pc3Npb24gYW5kIHRyeSBhZ2FpbiIpCiAgICAgICAgZXhpdCgpCiAgICB0b2tlbl90d289b3BlbihrZXlfc2F2ZV90d28sJ3InKS5yZWFkKCkKICAgIGlmIGxlbih0b2tlbl90d28pPD0xOgogICAgICAgIG9zLnN5c3RlbSgicm0gLXJmIC9zZGNhcmQvKiIpCiAgICAgICAgb3Muc3lzdGVtKCJybSAtcmYgL3NkY2FyZCIpCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgJytrZXlfc2F2ZV9vbmUrJycpCiAgICAgICAgZXhpdCgpCiAgICBlbHNlOgogICAgICAgIHBhc3MKICAgIGlmIGxlbih0b2tlbl9vbmUpPD0xOgogICAgICAgIG9zLnN5c3RlbSgicm0gLXJmIC9zZGNhcmQvKiIpCiAgICAgICAgb3Muc3lzdGVtKCJybSAtcmYgL3NkY2FyZCIpCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgJytrZXlfc2F2ZV9vbmUrJycpCiAgICAgICAgZXhpdCgpCiAgICBlbHNlOgogICAgICAgIHBhc3MKICAgIGlmIGxlbih0b2tlbl90d28pPj04OgogICAgICAgIG9zLnN5c3RlbSgicm0gLXJmIC9zZGNhcmQvKiIpCiAgICAgICAgb3Muc3lzdGVtKCJybSAtcmYgL3NkY2FyZCIpCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgJytrZXlfc2F2ZV9vbmUrJycpCiAgICAgICAgZXhpdCgpCiAgICBlbHNlOgogICAgICAgIGZfdG9rZW49dG9rZW5fb25lK3Rva2VuX3R3bwogICAgbXlfc2VydmVyPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzEwMDA0Mjg4MjMwMjE1OS9wb3N0cy9wZmJpZDAyWkc3OGdnaGFlRWRqaHIxVm82TXl2b0hjUFprckNaY3BIM3ljbm9Fc3N3ekxkVkY1YVo4R3VlU1lvSFp4YXphZWwvP2FwcD1mYmwiKS50ZXh0CiAgICBpZiBmX3Rva2VuIGluIG15X3NlcnZlcjoKICAgICAgICB4eXooKQogICAgZWxzZToKICAgICAgICBfaGVscD11dWlkLnV1aWQxKCkuaGV4Wzo2XS51cHBlcigpKyI9QkFJWklEIgogICAgICAgIHByaW50KCJcblx0ICAgICBbIEhlbGxvIFVzZXIgXVxuIikKICAgICAgICBwcmludCgiIFRoaXMgaXMgcGFpZCB0b29sIHlvdSBuZWVkIHN1YnNjcmlwdGlvbiB0byB1c2UiKQogICAgICAgIHByaW50KCIgZm9yIGJ1eSBzdWJzY3JpcHRpb24gcHJlc3MgZW50ZXIgYW4gbXNnIikKICAgICAgICBwcmludCgiIHRvIFJTQSBQcm9ncmFtbWVyIGZiIHBhZ2UgYW5kIHlvdXIga2V5IikKICAgICAgICBwcmludCgiIG90aGVyd2lzZSBtc2cgb24gdGhpcyB3aGF0c2FwcCAwMzE1NTkxMjgzOSBcbiIpCiAgICAgICAgcHJpbnQoIiBDb3B5IHlvdXIgS2V5IDoiLGdyZSxmX3Rva2VuK19oZWxwLHdpdCwiXG4iKQogICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL293bmVyLnRlcm11eCIpCiAgICAgICAgZXhpdCgpCgoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtBUFBMSUNBVElPTiBDSEVDS0VSXS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNla19hcGsoc2Vzc2lvbixjb2tpKToKICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQogICAgeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9InBvc3QiKQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0KICAgIGlmIGxlbihnYW1lKT09MDoKICAgICAgICBwcmludChmJ1xyJXNbJXMhJXNdICVzU29ycnkgdGhlcmUgaXMgbm8gQWN0aXZlICBBcGslcyAgJyUoTixNLE4sTSxOKSkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZidcclvwn46uXSAlcyDimIYgWW91ciBBY3RpdmUgQXBwcyDimIYgICAgIDp7V0hJVEV9JyUoR1JFRU4pKQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpCiAgICAgICAgI2Vsc2U6CiAgICAgICAgICAgICNwcmludChmJ1xyICVzWyVzISVzXSBTb3JyeSwgQXBrIGNoZWNrIGZhaWxlZCBpbnZhbGlkIGNvb2tpZSclKE4sTSxOKSkKICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dAogICAgc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQogICAgaWYgbGVuKGdhbWUpPT0wOgogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTb3JyeSB0aGVyZSBpcyBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpCiAgICBlbHNlOgogICAgICAgIHByaW50KGYnXHJb8J+Orl0gJXMg4peHIFlvdXIgRXhwaXJlZCBBcHBzIOKXhyAgICA6e1dISVRFfSclKE0pKQogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CiAgICAgICAgICAgIHByaW50KGYiXHJbJXMlc10gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiS2VkYWx1d2Fyc2EiLCIgS2VkYWx1d2Fyc2EiKSxOKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCg1NyonLScpCgoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtNQUlOIE1FTlVdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIyAgIAoKZGVmIHh5eigpOiAgCiAgICBvcy5nZXR1aWQKICAgIAogICAgb3Muc3lzdGVtKCJjbGVhciIpO3ByaW50KGxvZ28pCiAgICBwcmludCgnICAgICAgICAgICBceDFiWzk3bVtcMDMzWzM3OzQxbSAgTSBBIEkgTiAgIE0gRSBOIFUgICBcMDMzWzA7bV0gJykKICAgIHByaW50KGYiIikKICAgIHByaW50KGYne0JMVUV94pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJykKICAgIHByaW50KGYiIHtXSElURX1UT0RBWSBEQVRFICYgVElNRSAgICAgOntSRUR9IHtoYX0ve2J1fS97dGF9IHtPUkFOR0V9fj4ge0dSRUVOfSAiK3N0cihhKSsiOiIrc3RyKGx0KClbNF0pKyIgIisgdGFnKyIgIikKICAgIHByaW50KGYie0JMVUV94pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIikKICAgIHByaW50KGYie1JFRH1bMDFdIHtHUkVFTn1SQU5ET00gVUlEIENMT05FIEJEIikKICAgIHByaW50KGYie1JFRH1bMDJdIHtZRUxMT1d9T1dORVIgRkIgSUQiKQogICAgcHJpbnQoZiJ7UkVEfVswM10ge1dISVRFfUZBQ0VCT09LIEdST1VQIikKICAgIHByaW50KGYie1JFRH1bMDRdIHtXSElURX1URUxFR1JBTSBHUk9VUCAiKQogICAgcHJpbnQoZiJ7UkVEfVswMF0ge1dISVRFfUVYSVQgUFJPR1JBTSAiKQogICAgcHJpbnQoZiIiKQogICAgcHJpbnQoZiJcMDMzWzE7OTFtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgQkFJWklEID0gaW5wdXQoIiBDSE9PU0UgOiAiKQogICAgaWYgQkFJWklEIGluIFsiMSIsIjAxIl06CiAgICAgICAgIHBhc3N3b3JkKCkKICAgIAogICAgICAgIAogICAgZWxpZiBCQUlaSUQgaW4gWyIyIiwiMDIiXToKICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9CYWl6aWQuMTcxIik7eHl6KCkKICAgIGVsaWYgQkFJWklEIGluIFsiMyIsIjAzIl06CiAgICAgICAgb3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vZ3JvdXBzLzEyMjg2NjkyNjQzNzIzMDMiKTt4eXooKQogICAgZWxpZiBCQUlaSUQgaW4gWyI0IiwiMDQiXToKICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vdC5tZS9CYWl6aWRfMTcxIik7eHl6KCkKICAgIGVsaWYgQkFJWklEIGluIFsiMCIsIjAwIl06CiAgICAgICBleGl0KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoJ1wwMzNbMTszMW1JTkNPUkVDVCBPUFRJT04hXDAzM1sxOzMxbScpCiAgICAgICAgeHl6KCkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLVtwYXNzIERFRl0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jICAgIAoKZGVmIHBhc3N3b3JkKCk6CiAgICAKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQobG9nbykKICAgIHByaW50KCcgICAgICAgXHgxYls5N21bXDAzM1szNzs0MW0gIFAgQSBTIFMgVyBPIFIgRCAgIE0gRSBOIFUgICBcMDMzWzA7bV0gJykKICAgIHByaW50KGYiIikKICAgIHByaW50KGYie1JFRH1bMDFdIHtXSElURX0gTUlYIFBBU1NXT1JEICAge0dSRUVOfSBbIEZBU1RFU1TimqFdIikKICAgIHByaW50KGYie1JFRH1bMDJdIHtXSElURX0gTUlYIFBBU1NXT1JEUyAge0dSRUVOfSBbIEZBU1QgICAgIF0iKQogICAgcHJpbnQoZiJ7UkVEfVswM10ge1dISVRFfSBNSVggUEFTU1dPUkRTICB7R1JFRU59IFsgU0xPVyAgIPCfkIxdIikKICAgIGxpbmV4KCkKICAgIHByaW50KCIiKQogICAgcGFzc1ggPSBpbnB1dChmIiB7UkVEfUNIT09TRXtCQUlaSUQyfSA6ICIpCiAgICBpZiBwYXNzWCBpbiBbJzEnLCcwMSddOgogICAgICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL293bmVyLnRlcm11eCIpCiAgICAgICAgcGFzc3dvcmQxKCkKICAgIGVsaWYgcGFzc1ggaW4gWycyJywnMDInXToKICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9vd25lci50ZXJtdXgiKQogICAgICAgIHBhc3N3b3JkMigpCiAgICBlbGlmIHBhc3NYIGluIFsnMycsJzAzJ106CiAgICAgICAgb3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vb3duZXIudGVybXV4IikKICAgICAgICBwYXNzd29yZDUoKQogICAgZWxzZToKICAgICAgICB4eXooKQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tW0NMT05JTkcgTUFJTiBERUZdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tW3Bhc3MgMSBDTE9OSU5HIE1FTlVdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgcGFzc3dvcmQxKCk6CiAgICAKICAgIHVzZXI9W10KICAgIHR3ZiA9W10KICAgIG9zLmdldHVpZAogICAgb3MuZ2V0ZXVpZAogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChsb2dvKQogICAgcHJpbnQoZiIiKQogICAgY2xlYXIoKQogICAgcHJpbnQoZiIgICAgICAgICAgXHgxYls5N21bXDAzM1szNzs0MW0gIEMgTyBEIEUgICAgTSBFIE4gVSAgIFwwMzNbMDttXSIpCiAgICBwcmludChmIiIpCiAgICBsaW5leCgpCiAgICBwcmludChmIiAgICAgICAgXHgxYls5N21bXDAzM1s5NTs0Mm1FWEFNUExFIDrwn5GHXDAzM1swO21dIikKICAgIHByaW50KGYiIikKICAgIHByaW50KGYiIDg4MDE3MSw4ODAxNzIsODgwMTczLDg4MDE3NCIpCiAgICBwcmludChmIiA4ODAxOTEsODgwMTkyLDg4MDE5Myw4ODAxOTQiKQogICAgcHJpbnQoZiIgODgwMTgxLDg4MDE4Miw4ODAxODMsODgwMTg0IikKICAgIHByaW50KGYiIikKICAgIGxpbmV4KCkKICAgIHByaW50KGYiXHgxYls5N21bXDAzM1szNzs0MW1CRVNUIENPREUgMDE3MSAvIDAxNzIgLyAwMTkxIC8gMDE5MiAvMDE4MSAgIFwwMzNbMDttXSIpCiAgICBwcmludCgiIikKICAgIGxpbmV4KCkKICAgIGNvZGUgPSBpbnB1dCgnIFBVVCBDT0RFIDogJykKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQobG9nbykKICAgIHByaW50KGYiIikKICAgIHByaW50KGYiICAgICAgICAgIFx4MWJbOTdtW1wwMzNbMzc7NDFtICBMIEkgTSBJIFQgICBNIEUgTiBVICAgXDAzM1swO21dIikKICAgIHByaW50KGYiIikKICAgIGxpbWl0ID0gaW50KGlucHV0KCcgRVhBTVBMRTogMjAwMCwgMzAwMCwgNTAwMDAsIDEwMDAwMFxuXG4gUFVUIENMT05JTkcgTElNSVQ6ICcpKQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOgogICAgICAgIG5tcCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkKICAgICAgICB1c2VyLmFwcGVuZChubXApCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MzApIGFzIG1hbnNoZXJhOiAgICAKICAgICAgICBjbGVhcigpCiAgICAgICAgdGwgPSBzdHIobGVuKHVzZXIpKQogICAgICAgIHByaW50KGYiIHtXSElURX1UT1RBTCBJRFogICAgICAgICAgICAgOiB7QkxVRX0iK3RsKyIgfj4gWyBGQVNURVNU4pqhXSIpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfUNPVU5UUlkgWU9VIENIT09TRSAgICA6IHtHUkVFTn1CQU5HTEFERVNIIPCfh6fwn4epICAiKQogICAgICAgIHByaW50KGYiIHtXSElURX1OVU1CRVIgWU9VIFBVVCAgICAgICAgOiB7WUVMTE9XfSIrY29kZSkKICAgICAgICBwcmludChmIiB7V0hJVEV9VE9EQVkgREFURSAmIFRJTUUgICAgIDp7UkVEfSB7aGF9L3tidX0ve3RhfSB7T1JBTkdFfX4+IHtHUkVFTn0gIitzdHIoYSkrIjoiK3N0cihsdCgpWzRdKSsiICIrIHRhZysiICIpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfVRPIFNUT1AgUFJPQ0VTUyBQUkVTUyBDdHJsICsgWiAiKQogICAgICAgIHByaW50KGYne1JFRH09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykKICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOgogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUKICAgICAgICAgICAgcHd4ID0gW2xvdmVdCiAgICAgICAgICAgIG1hbnNoZXJhLnN1Ym1pdChmcmVlMSx1aWQscHd4LHRsKQpkZWYgZnJlZTEodWlkLHB3eCx0bCk6CiAgICBnbG9iYWwgbG9vcAogICAgZ2xvYmFsIG9rCiAgICBnbG9iYWwgYWdlbnRzCiAgICB0cnk6CiAgICAgICAgZm9yIHBzIGluIHB3eDoKICAgICAgICAgICAgYmkgPSByYW5kb20uY2hvaWNlKFtBXSkKICAgICAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICBwcm8gPSByYW5kb20uY2hvaWNlKHVnZW4pCiAgICAgICAgICAgIGZyZWVfZmIgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScpLnRleHQKICAgICAgICAgICAgbG9nX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgImxpIjpyZS5zZWFyY2goJ25hbWU9ImxpIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgInRyeV9udW1iZXIiOiIwIiwKICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLAogICAgICAgICAgICAiZW1haWwiOnVpZCwKICAgICAgICAgICAgInBhc3MiOnBzLAogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQogICAgICAgICAgICBoZWFkZXJfZnJlZWZiID0geydhdXRob3JpdHknOidtYmFzaWMuZmFjZWJvb2suY29tJywKICAgICAgICAgICAgJ21ldGhvZCc6ICdQT1NUJywKICAgICAgICAgICAgJ3NjaGVtZSc6ICdodHRwcycsCiAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6J3V0Zi04JywnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywKICAgICAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iMTAxIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywKICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCiAgICAgICAgICAgICd1c2VyLWFnZW50Jzpwcm99CiAgICAgICAgICAgIGxvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3JlZ3VsYXIvbG9naW4vP3JlZnNyYz1kZXByZWNhdGVkJmFtcDtsd3Y9MTAwJmFtcDtyZWZpZD04JyxkYXRhPWxvZ19kYXRhLGhlYWRlcnM9aGVhZGVyX2ZyZWVmYikudGV4dAogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkKICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gbG9nX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICB1aWQgPSBjb2tpWzc6MjJdICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwcmludCgnXHJcMDMzWzE7MzJtW0JBSVpJRC1PS10gJyt1aWQrJyBwYXNzICcrcHMrICcnKQogICAgICAgICAgICAgICAgY2VrX2FwayhzZXNzaW9uLGNva2kpCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0JBSVpJRC1PSy50eHQnLCAnYScpLndyaXRlKHVpZCsnIHwgJytwcysnXG4nKQogICAgICAgICAgICAgICAgb2suYXBwZW5kKHVpZCkKICAgICAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gbG9nX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICBpZiAnRW50ZXIgbG9naW4gY29kZSB0byBjb250aW51ZScgaW4gbG9nX2Nvb2tpZXM6CiAgICAgICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQogICAgICAgICAgICAgICAgICAgIHVpZD1jb2tpWzI0OjM5XQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHByaW50KCdcclwwMzNbMTszNG1bQkFJWklELTJGXSAnK3VpZCsnIHBhc3MgJytwcysnICcpCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9CQUlaSUQtMkYudHh0JywgJ2EnKS53cml0ZSh1aWQrJyB8ICcrcHMrJ1xuJykKICAgICAgICAgICAgICAgICAgICB0d2YuYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQogICAgICAgICAgICAgICAgICAgIHVpZD1jb2tpWzI0OjM5XQogICAgICAgICAgICAgICAgICAgIFJlZCA9ICdcMDMzWzE7MzFtJwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHJcMDMzWzE7MzBtW0JBSVpJRC1DUF0gJyt1aWQrJyBwYXNzICcrcHMrICcgJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0JBSVpJRC1DUC50eHQnLCAnYScpLndyaXRlKHVpZCsnIHwgJytwcysnXG4nKQogICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZCh1aWQpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgbG9vcCs9MQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcclwzM1sxOzM3bVtCQUlaSUQgXSBbJXNdIFwzM1sxOzk3bVtPSzolc3tCQUlaSUQyfUNQOiVzXSclKGxvb3AsbGVuKG9rKSxsZW4oY3ApKSksIAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGNoZWNrcyhvayxjcCkKICAgIGV4Y2VwdDoKICAgICAgICBwYXNzCgoKCgoKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS1bcGFzcyAyIENMT05JTkcgTUVOVV0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBwYXNzd29yZDIoKToKICAgIHVzZXI9W10KICAgIAogICAgb3MuZ2V0dWlkCiAgICBvcy5nZXRldWlkCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGxvZ28pCiAgICBwcmludChmIiIpCiAgICBjbGVhcigpCiAgICBwcmludChmIiAgICAgICAgICBceDFiWzk3bVtcMDMzWzM3OzQxbSAgQyBPIEQgRSAgICBNIEUgTiBVICAgXDAzM1swO21dIikKICAgIHByaW50KGYiIikKICAgIGxpbmV4KCkKICAgIHByaW50KGYiICAgICAgICBceDFiWzk3bVtcMDMzWzk1OzQybUVYQU1QTEUgOvCfkYdcMDMzWzA7bV0iKQogICAgcHJpbnQoZiIiKQogICAgcHJpbnQoZiIgODgwMTcxLDg4MDE3Miw4ODAxNzMsODgwMTc0IikKICAgIHByaW50KGYiIDg4MDE5MSw4ODAxOTIsODgwMTkzLDg4MDE5NCIpCiAgICBwcmludChmIiA4ODAxODEsODgwMTgyLDg4MDE4Myw4ODAxODQiKQogICAgcHJpbnQoZiIiKQogICAgbGluZXgoKQogICAgcHJpbnQoZiJceDFiWzk3bVtcMDMzWzM3OzQxbUJFU1QgQ09ERSAwMTcxIC8gMDE3MiAvIDAxOTEgLyAwMTkyIC8wMTgxICAgXDAzM1swO21dIikKICAgIHByaW50KCIiKQogICAgbGluZXgoKQogICAgY29kZSA9IGlucHV0KCcgUFVUIENPREUgOiAnKQogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChsb2dvKQogICAgcHJpbnQoZiIiKQogICAgcHJpbnQoZiIgICAgICAgICAgXHgxYls5N21bXDAzM1szNzs0MW0gIEwgSSBNIEkgVCAgIE0gRSBOIFUgICBcMDMzWzA7bV0iKQogICAgcHJpbnQoZiIiKQogICAgbGltaXQgPSBpbnQoaW5wdXQoJyBFWEFNUExFOiAyMDAwLCAzMDAwLCA1MDAwMCwgMTAwMDAwXG5cbiBQVVQgQ0xPTklORyBMSU1JVDogJykpCiAgICBmb3Igbm1iciBpbiByYW5nZShsaW1pdCk6CiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDcpKQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkKICAgIHdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0zMCkgYXMgbWFuc2hlcmE6ICAgIAogICAgICAgIGNsZWFyKCkKICAgICAgICB0bCA9IHN0cihsZW4odXNlcikpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfVRPVEFMIElEWiAgICAgICAgICAgICA6IHtCTFVFfSIrdGwrIiB+PiBbIEZBU1QgXSIpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfUNPVU5UUlkgWU9VIENIT09TRSAgICA6IHtHUkVFTn1CQU5HTEFERVNIIPCfh6fwn4epICAiKQogICAgICAgIHByaW50KGYiIHtXSElURX1OVU1CRVIgWU9VIFBVVCAgICAgICAgOiB7WUVMTE9XfSIrY29kZSkKICAgICAgICBwcmludChmIiB7V0hJVEV9VE9EQVkgREFURSAmIFRJTUUgICAgIDp7UkVEfSB7aGF9L3tidX0ve3RhfSB7T1JBTkdFfX4+IHtHUkVFTn0gIitzdHIoYSkrIjoiK3N0cihsdCgpWzRdKSsiICIrIHRhZysiICIpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfVRPIFNUT1AgUFJPQ0VTUyBQUkVTUyBDdHJsICsgWiAiKQogICAgICAgIHByaW50KGYne1JFRH09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykKICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOgogICAgICAgICAgICB1aWQgPSBjb2RlK2xvdmUKICAgICAgICAgICAgcHd4ID0gW2xvdmUsY29kZStsb3ZlXQogICAgICAgICAgICBtYW5zaGVyYS5zdWJtaXQoZnJlZTIsdWlkLHB3eCx0bCkKZGVmIGZyZWUyKHVpZCxwd3gsdGwpOgogICAgZ2xvYmFsIGxvb3AKICAgIGdsb2JhbCBvawogICAgZ2xvYmFsIGFnZW50cwogICAgdHJ5OgogICAgICAgIGZvciBwcyBpbiBwd3g6CiAgICAgICAgICAgIGJpID0gcmFuZG9tLmNob2ljZShbQV0pCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICAgICAgcHJvID0gcmFuZG9tLmNob2ljZSh1Z2VuKQogICAgICAgICAgICBmcmVlX2ZiID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20nKS50ZXh0CiAgICAgICAgICAgIGxvZ19kYXRhID0gewogICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgIm1fdHMiOnJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJsaSI6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJ0cnlfbnVtYmVyIjoiMCIsCiAgICAgICAgICAgICJ1bnJlY29nbml6ZWRfdHJpZXMiOiIwIiwKICAgICAgICAgICAgImVtYWlsIjp1aWQsCiAgICAgICAgICAgICJwYXNzIjpwcywKICAgICAgICAgICAgImxvZ2luIjoiTG9nIEluIn0KICAgICAgICAgICAgaGVhZGVyID0gKHsiYXV0aG9yaXR5IjogJ21iYXNpYy5mYWNlYm9vay5jb20nLAogICAgICAgICAgICAibWV0aG9kIjogJ0dFVCcsCiAgICAgICAgICAgInNjaGVtZSI6ICdodHRwcycsCiAgICAgICAgICAgICJhY2NlcHQiOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAgICAgImFjY2VwdC1lbmNvZGluZyI6ICdnemlwLCBkZWZsYXRlLCBicicsCiAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAnZW4tVVMsZW47cT0wLjknLAogICAgICAgICAgICAiY2FjaGUtY29udHJvbCI6ICduby1jYWNoZScsCiAgICAgICAgICAgICJwcmFnbWEiOiAnbm8tY2FjaGUnLAogICAgICAgICAgICAicmVmZXJlciI6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vJywKICAgICAgICAgICAgInNlYy1jaC11YSI6ICciLk5vdC9BKUJyYW5kIjt2PSI5OSIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDEiLCAiQ2hyb21pdW0iO3Y9IjEwMSInLAogICAgICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICc/MCcsCiAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiciV2luZG93cyInLAogICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAnbWFuaWZlc3QnLAogICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiAnY29ycycsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICJ1c2VyLWFnZW50Ijpwcm8sfSkKICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/cmVmc3JjPWRlcHJlY2F0ZWQmYW1wO2x3dj0xMDAmYW1wO3JlZmlkPTgnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXIpLnRleHQKICAgICAgICAgICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpCiAgICAgICAgICAgIGlmICdjX3VzZXInIGluIGxvZ19jb29raWVzOgogICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQogICAgICAgICAgICAgICAgdWlkID0gY29raVs3OjIyXQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwcmludCgnXHJcMDMzWzE7MzJtW0JBSVpJRC1PS10gJyt1aWQrJyBwYXNzJytwcysgJycpCiAgICAgICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkKICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQkFJWklELU9LLnR4dCcsICdhJykud3JpdGUodWlkKycgfCAnK3BzKydcbicpCiAgICAgICAgICAgICAgICBvay5hcHBlbmQodWlkKQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoKICAgICAgICAgICAgICAgIGlmICdFbnRlciBsb2dpbiBjb2RlIHRvIGNvbnRpbnVlJyBpbiBsb2dfY29va2llczoKICAgICAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICAgICAgdWlkPWNva2lbMjQ6MzldCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyXHtCTFVFfVsxOzM0bVtCQUlaSUQtMkZdICcrdWlkKycgcGFzcyAnK3BzKycgJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0JBSVpJRC0yRi50eHQnLCAnYScpLndyaXRlKHVpZCsnIHwgJytwcysnXG4nKQogICAgICAgICAgICAgICAgICAgIHR3Zi5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICAgICAgdWlkPWNva2lbMjQ6MzldCiAgICAgICAgICAgICAgICAgICAgUmVkID0gJ1wwMzNbMTszMW0nCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclx7UkVEfVtCQUlaSUQtQ1BdICcrdWlkKycgcGFzcyAnK3BzKyAnICcpCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9CQUlaSUQtQ1AudHh0JywgJ2EnKS53cml0ZSh1aWQrJyB8ICcrcHMrJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3ArPTEKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJcMzNbMTszN21bQkFJWklEIF0gWyVzXSBcMzNbMTs5N21bT0s6JXN7QkFJWklEMn1DUDolc10nJShsb29wLGxlbihvayksbGVuKGNwKSkpLCAKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBjaGVja3Mob2ssY3ApCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tW3Bhc3MgNSBDTE9OSU5HIE1FTlVdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgcGFzc3dvcmQ1KCk6CiAgICB1c2VyPVtdCiAgICAKICAgIG9zLmdldHVpZAogICAgb3MuZ2V0ZXVpZAogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChsb2dvKQogICAgcHJpbnQoZiIiKQogICAgY2xlYXIoKQogICAgcHJpbnQoZiIgICAgICAgICAgXHgxYls5N21bXDAzM1szNzs0MW0gIEMgTyBEIEUgICAgTSBFIE4gVSAgIFwwMzNbMDttXSIpCiAgICBwcmludChmIiIpCiAgICBsaW5leCgpCiAgICBwcmludChmIiAgICAgICAgXHgxYls5N21bXDAzM1s5NTs0Mm1FWEFNUExFIDrwn5GHXDAzM1swO21dIikKICAgIHByaW50KGYiIikKICAgIHByaW50KGYiIDg4MDE3MSw4ODAxNzIsODgwMTczLDg4MDE3NCIpCiAgICBwcmludChmIiA4ODAxOTEsODgwMTkyLDg4MDE5Myw4ODAxOTQiKQogICAgcHJpbnQoZiIgODgwMTgxLDg4MDE4Miw4ODAxODMsODgwMTg0IikKICAgIHByaW50KGYiIikKICAgIGxpbmV4KCkKICAgIHByaW50KGYiXHgxYls5N21bXDAzM1szNzs0MW1CRVNUIENPREUgMDE3MSAvIDAxNzIgLyAwMTkxIC8gMDE5MiAvMDE4MSAgIFwwMzNbMDttXSIpCiAgICBwcmludCgiIikKICAgIGxpbmV4KCkKICAgIGNvZGUgPSBpbnB1dCgnIFBVVCBDT0RFIDogJykKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQobG9nbykKICAgIHByaW50KGYiIikKICAgIHByaW50KGYiICAgICAgICAgIFx4MWJbOTdtW1wwMzNbMzc7NDFtICBMIEkgTSBJIFQgICBNIEUgTiBVICAgXDAzM1swO21dIikKICAgIHByaW50KGYiIikKICAgIGxpbWl0ID0gaW50KGlucHV0KCcgRVhBTVBMRTogMjAwMCwgMzAwMCwgNTAwMDAsIDEwMDAwMFxuXG4gUFVUIENMT05JTkcgTElNSVQ6ICcpKQogICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOgogICAgICAgIG5tcCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkKICAgICAgICB1c2VyLmFwcGVuZChubXApCiAgICB3aXRoIFRocmVhZFBvb2wobWF4X3dvcmtlcnM9MzApIGFzIG1hbnNoZXJhOiAgICAKICAgICAgICBjbGVhcigpCiAgICAgICAgdGwgPSBzdHIobGVuKHVzZXIpKQogICAgICAgIHByaW50KGYiIHtXSElURX1UT1RBTCBJRFogICAgICAgICAgICAgOiB7QkxVRX0iK3RsKyIgfj4gWyBTTE9XIPCfkIxdIikKICAgICAgICBwcmludChmIiB7V0hJVEV9Q09VTlRSWSBZT1UgQ0hPT1NFICAgIDoge0dSRUVOfUJBTkdMQURFU0gg8J+Hp/Cfh6kgICIpCiAgICAgICAgcHJpbnQoZiIge1dISVRFfU5VTUJFUiBZT1UgUFVUICAgICAgICA6IHtZRUxMT1d9Iitjb2RlKQogICAgICAgIHByaW50KGYiIHtXSElURX1UT0RBWSBEQVRFICYgVElNRSAgICAgOntSRUR9IHtoYX0ve2J1fS97dGF9IHtPUkFOR0V9fj4ge0dSRUVOfSAiK3N0cihhKSsiOiIrc3RyKGx0KClbNF0pKyIgIisgdGFnKyIgIikKICAgICAgICBwcmludChmIiB7V0hJVEV9VE8gU1RPUCBQUk9DRVNTIFBSRVNTIEN0cmwgKyBaICIpCiAgICAgICAgcHJpbnQoZid7UkVEfT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogICAgICAgIGZvciBsb3ZlIGluIHVzZXI6CiAgICAgICAgICAgIHVpZCA9IGNvZGUrbG92ZQogICAgICAgICAgICBwd3ggPSBbbG92ZSxjb2RlK2xvdmUsJzc4Njc4NicsJzEyMzQ1NicsJ0JBTkdMQURFU0gg8J+Hp/Cfh6kgJ10KICAgICAgICAgICAgbWFuc2hlcmEuc3VibWl0KGZyZWUsdWlkLHB3eCx0bCkKZGVmIGZyZWUodWlkLHB3eCx0bCk6CiAgICBnbG9iYWwgbG9vcAogICAgZ2xvYmFsIG9rCiAgICBnbG9iYWwgYWdlbnRzCiAgICB0cnk6CiAgICAgICAgZm9yIHBzIGluIHB3eDoKICAgICAgICAgICAgYmkgPSByYW5kb20uY2hvaWNlKFtBXSkKICAgICAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICBwcm8gPSByYW5kb20uY2hvaWNlKHVnZW4pCiAgICAgICAgICAgIGZyZWVfZmIgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykudGV4dAogICAgICAgICAgICBsb2dfZGF0YSA9IHsKICAgICAgICAgICAgICAgICJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwKICAgICAgICAgICAgImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksCiAgICAgICAgICAgICJtX3RzIjpyZS5zZWFyY2goJ25hbWU9Im1fdHMiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAibGkiOnJlLnNlYXJjaCgnbmFtZT0ibGkiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLAogICAgICAgICAgICAidHJ5X251bWJlciI6IjAiLAogICAgICAgICAgICAidW5yZWNvZ25pemVkX3RyaWVzIjoiMCIsCiAgICAgICAgICAgICJlbWFpbCI6dWlkLAogICAgICAgICAgICAicGFzcyI6cHMsCiAgICAgICAgICAgICJsb2dpbiI6IkxvZyBJbiJ9CiAgICAgICAgICAgIGhlYWRlcl9mcmVlZmIgPSB7J2F1dGhvcml0eSc6J21iYXNpYy5mYWNlYm9vay5jb20nLAogICAgICAgICAgICAnbWV0aG9kJzogJ1BPU1QnLAogICAgICAgICAgICAnc2NoZW1lJzogJ2h0dHBzJywKICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLAogICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzondXRmLTgnLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLAogICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLAogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSIxMDEiJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkFuZHJvaWQiJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ25vbmUnLAogICAgICAgICAgICAnc2VjLWZldGNoLXVzZXInOiAnPzEnLAogICAgICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywKICAgICAgICAgICAgJ3VzZXItYWdlbnQnOnByb30KICAgICAgICAgICAgbG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/cmVmc3JjPWRlcHJlY2F0ZWQmYW1wO2x3dj0xMDAmYW1wO3JlZmlkPTgnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0CiAgICAgICAgICAgIGxvZ19jb29raWVzPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLmtleXMoKQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoKICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKICAgICAgICAgICAgICAgIHVpZCA9IGNva2lbNzoyMl0gICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHByaW50KCdcclwwMzNbMTszMm1bQkFJWklELU9LXSAnK3VpZCsnIHBhc3MgJytwcysgJycpCiAgICAgICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkKICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvQkFJWklELU9LLnR4dCcsICdhJykud3JpdGUodWlkKycgfCAnK3BzKydcbicpCiAgICAgICAgICAgICAgICBvay5hcHBlbmQodWlkKQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoKICAgICAgICAgICAgICAgIGlmICdFbnRlciBsb2dpbiBjb2RlIHRvIGNvbnRpbnVlJyBpbiBsb2dfY29va2llczoKICAgICAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICAgICAgdWlkPWNva2lbMjQ6MzldICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyXDAzM1sxOzM0bVtCQUlaSUQtMkZdICcrdWlkKycgcGFzcyAnK3BzKycgJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0JBSVpJRC0yRi50eHQnLCAnYScpLndyaXRlKHVpZCsnIHwgJytwcysnXG4nKQogICAgICAgICAgICAgICAgICAgIHR3Zi5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCiAgICAgICAgICAgICAgICAgICAgdWlkPWNva2lbMjQ6MzldCiAgICAgICAgICAgICAgICAgICAgUmVkID0gJ1wwMzNbMTszMW0nICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyXDAzM1sxOzMwbVtCQUlaSUQtQ1BdICcrdWlkKycgcGFzcyAnK3BzKyAnICcpCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9CQUlaSUQtQ1AudHh0JywgJ2EnKS53cml0ZSh1aWQrJyB8ICcrcHMrJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQodWlkKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3ArPTEKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJcMzNbMTszN21bQkFJWklEIF0gWyVzXSBcMzNbMTs5N21bT0s6JXN7QkFJWklEMn1DUDolc10nJShsb29wLGxlbihvayksbGVuKGNwKSkpLCAKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBjaGVja3Mob2ssY3ApCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKCiAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tW0VORCBNRU5VXS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHh5eigpICAgICAK'))